{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"61033","creationTime":"1570971380759","totalBytesProcessed":"1823690746","startTime":"1570971380880","query":{"totalSlotMs":"61033","queryPlan":[{"readMsMax":"20","computeMsMax":"6","waitMsAvg":"0","id":"0","endMs":"1570971381081","waitMsMax":"0","startMs":"1570971381034","waitRatioMax":0,"readRatioAvg":0.004668534080298786,"parallelInputs":"1","recordsRead":"500","computeRatioAvg":0.0014005602240896359,"writeMsAvg":"5","status":"COMPLETE","writeMsMax":"5","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0011671335200746965,"readMsAvg":"20","waitRatioAvg":0,"completedParallelInputs":"1","computeRatioMax":0.0014005602240896359,"name":"S00: Input","shuffleOutputBytes":"4500","recordsWritten":"500","readRatioMax":0.004668534080298786,"steps":[{"kind":"READ","substeps":["$10:p_promo_sk, $11:p_channel_email, $12:p_channel_event","FROM promotion","WHERE or(equal($11, 'N'), equal($12, 'N'))"]},{"kind":"WRITE","substeps":["$10","TO __stage00_output","BY HASH($10)"]}],"writeRatioAvg":0.0011671335200746965},{"readMsMax":"31","computeMsMax":"129","waitMsAvg":"28","id":"1","endMs":"1570971381972","waitMsMax":"28","startMs":"1570971381079","waitRatioMax":0.006535947712418301,"readRatioAvg":0.007236227824463119,"parallelInputs":"1","recordsRead":"102000","computeRatioAvg":0.03011204481792717,"writeMsAvg":"149","status":"COMPLETE","writeMsMax":"149","computeMsAvg":"129","shuffleOutputBytesSpilled":"0","writeRatioMax":0.03478057889822596,"readMsAvg":"31","waitRatioAvg":0.006535947712418301,"completedParallelInputs":"1","computeRatioMax":0.03011204481792717,"name":"S01: Input","shuffleOutputBytes":"3060000","recordsWritten":"102000","readRatioMax":0.007236227824463119,"steps":[{"kind":"READ","substeps":["$1:i_item_sk, $2:i_item_id","FROM item"]},{"kind":"WRITE","substeps":["$1, $2","TO __stage01_output","BY HASH($1)"]}],"writeRatioAvg":0.03478057889822596},{"readMsMax":"12","computeMsMax":"8","waitMsAvg":"15","id":"2","endMs":"1570971381292","waitMsMax":"15","startMs":"1570971381081","waitRatioMax":0.0035014005602240898,"readRatioAvg":0.0028011204481792717,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.0018674136321195146,"writeMsAvg":"20","status":"COMPLETE","writeMsMax":"20","computeMsAvg":"8","shuffleOutputBytesSpilled":"0","writeRatioMax":0.004668534080298786,"readMsAvg":"12","waitRatioAvg":0.0035014005602240898,"completedParallelInputs":"1","computeRatioMax":0.0018674136321195146,"name":"S02: Input","shuffleOutputBytes":"3285","recordsWritten":"365","readRatioMax":0.0028011204481792717,"steps":[{"kind":"READ","substeps":["$30:d_date_sk, $31:d_year","FROM date_dim","WHERE equal($31, 1998)"]},{"kind":"WRITE","substeps":["$30","TO __stage02_output","BY HASH($30)"]}],"writeRatioAvg":0.004668534080298786},{"readMsMax":"129","computeMsMax":"32","waitMsAvg":"39","id":"3","endMs":"1570971381279","waitMsMax":"39","startMs":"1570971381122","waitRatioMax":0.009103641456582634,"readRatioAvg":0.03011204481792717,"parallelInputs":"1","recordsRead":"1920800","computeRatioAvg":0.007469654528478058,"writeMsAvg":"6","status":"COMPLETE","writeMsMax":"6","computeMsAvg":"32","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0014005602240896359,"readMsAvg":"129","waitRatioAvg":0.009103641456582634,"completedParallelInputs":"1","computeRatioMax":0.007469654528478058,"name":"S03: Input","shuffleOutputBytes":"246960","recordsWritten":"27440","readRatioMax":0.03011204481792717,"steps":[{"kind":"READ","substeps":["$40:cd_demo_sk, $41:cd_gender, $42:cd_marital_status, $43:cd_education_status","FROM customer_demographics","WHERE and(equal($41, 'F'), equal($42, 'W'), equal($43, '2 yr Degree'))"]},{"kind":"WRITE","substeps":["$40","TO __stage03_output","BY HASH($40)"]}],"writeRatioAvg":0.0014005602240896359},{"readMsMax":"0","computeMsMax":"10","inputStages":["3"],"waitMsAvg":"4","id":"5","endMs":"1570971381549","waitMsMax":"6","startMs":"1570971381292","waitRatioMax":0.0014005602240896359,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"27440","computeRatioAvg":0.0011671335200746965,"writeMsAvg":"43","status":"COMPLETE","writeMsMax":"64","computeMsAvg":"5","shuffleOutputBytesSpilled":"0","writeRatioMax":0.014939309056956116,"readMsAvg":"0","waitRatioAvg":0.0009337068160597573,"completedParallelInputs":"100","computeRatioMax":0.002334267040149393,"name":"S05: Coalesce","shuffleOutputBytes":"246960","recordsWritten":"27440","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage03_output"]}],"writeRatioAvg":0.010037348272642391},{"readMsMax":"43","computeMsMax":"4284","inputStages":["0","1","2","5"],"waitMsAvg":"1","id":"8","endMs":"1570971384540","waitMsMax":"1","startMs":"1570971382212","waitRatioMax":0.00023342670401493932,"readRatioAvg":0.008870214752567693,"parallelInputs":"10","recordsRead":"30105162","computeRatioAvg":0.8141923436041083,"writeMsAvg":"9","status":"COMPLETE","writeMsMax":"47","computeMsAvg":"3488","shuffleOutputBytesSpilled":"0","writeRatioMax":0.010971055088702147,"readMsAvg":"38","waitRatioAvg":0.00023342670401493932,"completedParallelInputs":"10","computeRatioMax":1,"name":"S08: Join+","shuffleOutputBytes":"5963975","recordsWritten":"70442","readRatioMax":0.010037348272642391,"steps":[{"kind":"READ","substeps":["$20:ss_sold_date_sk, $21:ss_item_sk, $22:ss_cdemo_sk, $23:ss_promo_sk, $24:ss_quantity, $25:ss_list_price, $26:ss_sales_price, $27:ss_coupon_amt","FROM store_sales"]},{"kind":"READ","substeps":["$40","FROM __stage05_output"]},{"kind":"READ","substeps":["$30","FROM __stage02_output"]},{"kind":"READ","substeps":["$1, $2","FROM __stage01_output"]},{"kind":"READ","substeps":["$10","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $140 := $130","$60 := SHARD_AVG($131)","$61 := SHARD_AVG($132)","$62 := SHARD_AVG($134)","$63 := SHARD_AVG($133)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $110 = $10"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $100 = $1"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $80 = $30"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $22 = $40"]},{"kind":"WRITE","substeps":["$140, $60, $61, $62, $63","TO __stage08_output","BY HASH($140)"]}],"writeRatioAvg":0.0021008403361344537},{"readMsMax":"0","computeMsMax":"127","inputStages":["8"],"waitMsAvg":"1","id":"9","endMs":"1570971384633","waitMsMax":"1","startMs":"1570971384550","waitRatioMax":0.00023342670401493932,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"70442","computeRatioAvg":0.02964519140989729,"writeMsAvg":"4","status":"COMPLETE","writeMsMax":"4","computeMsAvg":"127","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0009337068160597573,"readMsAvg":"0","waitRatioAvg":0.00023342670401493932,"completedParallelInputs":"1","computeRatioMax":0.02964519140989729,"name":"S09: Sort+","shuffleOutputBytes":"5692","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$140, $60, $61, $62, $63","FROM __stage08_output"]},{"kind":"SORT","substeps":["$150 ASC","LIMIT 100"]},{"kind":"AGGREGATE","substeps":["GROUP BY $150 := $140","$50 := ROOT_AVG($60)","$51 := ROOT_AVG($61)","$52 := ROOT_AVG($62)","$53 := ROOT_AVG($63)"]},{"kind":"WRITE","substeps":["$160, $161, $162, $163, $164","TO __stage09_output"]}],"writeRatioAvg":0.0009337068160597573},{"readMsMax":"0","computeMsMax":"7","inputStages":["9"],"waitMsAvg":"2","id":"10","endMs":"1570971384787","waitMsMax":"2","startMs":"1570971384604","waitRatioMax":0.00046685340802987864,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"100","computeRatioAvg":0.0016339869281045752,"writeMsAvg":"136","status":"COMPLETE","writeMsMax":"136","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.031746031746031744,"readMsAvg":"0","waitRatioAvg":0.00046685340802987864,"completedParallelInputs":"1","computeRatioMax":0.0016339869281045752,"name":"S0A: Output","shuffleOutputBytes":"5692","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$160, $161, $162, $163, $164","FROM __stage09_output"]},{"kind":"SORT","substeps":["$160 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$170, $171, $172, $173, $174","TO __stage0A_output"]}],"writeRatioAvg":0.031746031746031744}],"estimatedBytesProcessed":"1823690746","timeline":[{"totalSlotMs":"16674","activeUnits":"34","completedUnits":"85","elapsedMs":"655","pendingUnits":"29"},{"totalSlotMs":"24301","activeUnits":"47","completedUnits":"104","elapsedMs":"1156","pendingUnits":"10"},{"totalSlotMs":"29745","activeUnits":"10","completedUnits":"104","elapsedMs":"1833","pendingUnits":"10"},{"totalSlotMs":"61033","activeUnits":"6","completedUnits":"116","elapsedMs":"4072","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"1824522240","totalPartitionsProcessed":"0","totalBytesProcessed":"1823690746","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"promotion","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"store_sales","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"customer_demographics","datasetId":"scale_10"}]},"endTime":"1570971384986"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query7_1570971379"},"etag":"/WHMk4Y6Ntvh6Gs8Jra0nA==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query7_1570971379?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_10"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon24e2a181400ae0b7413a3c7dc19170903a1563c4","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query7\nSELECT i_item_id, \n Avg(ss_quantity) agg1, \n Avg(ss_list_price) agg2, \n Avg(ss_coupon_amt) agg3, \n Avg(ss_sales_price) agg4 \nFROM store_sales, \n customer_demographics, \n date_dim, \n item, \n promotion \nWHERE ss_sold_date_sk = d_date_sk \n AND ss_item_sk = i_item_sk \n AND ss_cdemo_sk = cd_demo_sk \n AND ss_promo_sk = p_promo_sk \n AND cd_gender = 'F' \n AND cd_marital_status = 'W' \n AND cd_education_status = '2 yr Degree' \n AND ( p_channel_email = 'N' \n OR p_channel_event = 'N' ) \n AND d_year = 1998 \nGROUP BY i_item_id \nORDER BY i_item_id\nLIMIT 100; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query7_1570971379","user_email":"nithish.sankaranarayanan@ulb.be"}
