{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"35215","creationTime":"1570972589142","totalBytesProcessed":"687674709","startTime":"1570972589451","query":{"totalSlotMs":"35215","queryPlan":[{"readMsMax":"9","computeMsMax":"13","waitMsAvg":"1","id":"0","endMs":"1570972589939","waitMsMax":"1","startMs":"1570972589870","waitRatioMax":0.0002913752913752914,"readRatioAvg":0.0026223776223776225,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.003787878787878788,"writeMsAvg":"7","status":"COMPLETE","writeMsMax":"7","computeMsAvg":"13","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0020396270396270395,"readMsAvg":"9","waitRatioAvg":0.0002913752913752914,"completedParallelInputs":"1","computeRatioMax":0.003787878787878788,"name":"S00: Input","shuffleOutputBytes":"288","recordsWritten":"32","readRatioMax":0.0026223776223776225,"steps":[{"kind":"READ","substeps":["$10:d_date_sk, $11:d_date","FROM date_dim","WHERE between(CAST($11 AS DATE), 11095, 11126)"]},{"kind":"WRITE","substeps":["$10","TO __stage00_output","BY HASH($10)"]}],"writeRatioAvg":0.0020396270396270395},{"readMsMax":"54","computeMsMax":"175","waitMsAvg":"23","id":"1","endMs":"1570972590652","waitMsMax":"23","startMs":"1570972589910","waitRatioMax":0.006701631701631702,"readRatioAvg":0.015734265734265736,"parallelInputs":"1","recordsRead":"102000","computeRatioAvg":0.05099067599067599,"writeMsAvg":"14","status":"COMPLETE","writeMsMax":"14","computeMsAvg":"175","shuffleOutputBytesSpilled":"0","writeRatioMax":0.004079254079254079,"readMsAvg":"54","waitRatioAvg":0.006701631701631702,"completedParallelInputs":"1","computeRatioMax":0.05099067599067599,"name":"S01: Input","shuffleOutputBytes":"5167806","recordsWritten":"30541","readRatioMax":0.015734265734265736,"steps":[{"kind":"READ","substeps":["$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_class, $25:i_category","FROM item","WHERE in($25, 'Men', 'Home', 'Electronics')"]},{"kind":"WRITE","substeps":["$20, $21, $22, $23, $24, $25","TO __stage01_output","BY HASH($20)"]}],"writeRatioAvg":0.004079254079254079},{"readMsMax":"195","computeMsMax":"3432","inputStages":["0","1"],"waitMsAvg":"2","id":"3","endMs":"1570972593742","waitMsMax":"3","startMs":"1570972590853","waitRatioMax":0.0008741258741258741,"readRatioAvg":0.01252913752913753,"parallelInputs":"10","recordsRead":"29107842","computeRatioAvg":0.7628205128205128,"writeMsAvg":"24","status":"COMPLETE","writeMsMax":"39","computeMsAvg":"2618","shuffleOutputBytesSpilled":"0","writeRatioMax":0.011363636363636364,"readMsAvg":"43","waitRatioAvg":0.0005827505827505828,"completedParallelInputs":"10","computeRatioMax":1,"name":"S03: Join+","shuffleOutputBytes":"10917341","recordsWritten":"64661","readRatioMax":0.056818181818181816,"steps":[{"kind":"READ","substeps":["$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price","FROM store_sales"]},{"kind":"READ","substeps":["$20, $21, $22, $23, $24, $25","FROM __stage01_output"]},{"kind":"READ","substeps":["$10","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $90 := $81, $91 := $82, $92 := $85, $93 := $84, $94 := $83","$60 := SUM($80)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $70 = $10"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $2 = $20"]},{"kind":"WRITE","substeps":["$90, $91, $94, $93, $92, $60","TO __stage03_output","BY HASH($90, $91, $92, $93, $94)"]}],"writeRatioAvg":0.006993006993006993},{"readMsMax":"0","computeMsMax":"239","inputStages":["3"],"waitMsAvg":"2","id":"4","endMs":"1570972594035","waitMsMax":"2","startMs":"1570972593845","waitRatioMax":0.0005827505827505828,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"64661","computeRatioAvg":0.06963869463869464,"writeMsAvg":"25","status":"COMPLETE","writeMsMax":"25","computeMsAvg":"239","shuffleOutputBytesSpilled":"0","writeRatioMax":0.007284382284382284,"readMsAvg":"0","waitRatioAvg":0.0005827505827505828,"completedParallelInputs":"1","computeRatioMax":0.06963869463869464,"name":"S04: Aggregate","shuffleOutputBytes":"2562148","recordsWritten":"15171","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$90, $91, $94, $93, $92, $60","FROM __stage03_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $100 := $90, $101 := $91, $102 := $92, $103 := $93, $104 := $94","$50 := SUM($60)"]},{"kind":"WRITE","substeps":["$100, $101, $104, $103, $102, $50","TO __stage04_output","BY HASH($103)"]}],"writeRatioAvg":0.007284382284382284},{"readMsMax":"0","computeMsMax":"107","inputStages":["4"],"waitMsAvg":"1","id":"5","endMs":"1570972594218","waitMsMax":"1","startMs":"1570972594128","waitRatioMax":0.0002913752913752914,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"15171","computeRatioAvg":0.031177156177156176,"writeMsAvg":"23","status":"COMPLETE","writeMsMax":"23","computeMsAvg":"107","shuffleOutputBytesSpilled":"0","writeRatioMax":0.006701631701631702,"readMsAvg":"0","waitRatioAvg":0.0002913752913752914,"completedParallelInputs":"1","computeRatioMax":0.031177156177156176,"name":"S05: Sort+","shuffleOutputBytes":"2698567","recordsWritten":"15171","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$100, $101, $104, $103, $102, $50","FROM __stage04_output"]},{"kind":"COMPUTE","substeps":["$30 := divide(multiply($125, 100), $40)"]},{"kind":"ANALYTIC_FUNCTION","substeps":["$40 := SUM($115) OVER (PARTITION BY $113 ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING)"]},{"kind":"SORT","substeps":["$103 ASC"]},{"kind":"WRITE","substeps":["$120, $121, $122, $123, $124, $30, $125","TO __stage05_output"]}],"writeRatioAvg":0.006701631701631702},{"readMsMax":"0","computeMsMax":"283","inputStages":["5"],"waitMsAvg":"603","id":"6","endMs":"1570972595084","waitMsMax":"603","startMs":"1570972594846","waitRatioMax":0.1756993006993007,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"15171","computeRatioAvg":0.08245920745920746,"writeMsAvg":"84","status":"COMPLETE","writeMsMax":"84","computeMsAvg":"283","shuffleOutputBytesSpilled":"0","writeRatioMax":0.024475524475524476,"readMsAvg":"0","waitRatioAvg":0.1756993006993007,"completedParallelInputs":"1","computeRatioMax":0.08245920745920746,"name":"S06: Output","shuffleOutputBytes":"2471058","recordsWritten":"15171","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$120, $121, $122, $123, $124, $30, $125","FROM __stage05_output"]},{"kind":"SORT","substeps":["$124 ASC, $123 ASC, $120 ASC, $121 ASC, $30 ASC"]},{"kind":"WRITE","substeps":["$130, $131, $132, $133, $134, $135, $136","TO __stage06_output"]}],"writeRatioAvg":0.024475524475524476}],"estimatedBytesProcessed":"687674709","timeline":[{"totalSlotMs":"2895","activeUnits":"11","completedUnits":"1","elapsedMs":"933","pendingUnits":"11"},{"totalSlotMs":"10755","activeUnits":"10","completedUnits":"2","elapsedMs":"1703","pendingUnits":"10"},{"totalSlotMs":"31957","activeUnits":"5","completedUnits":"11","elapsedMs":"3552","pendingUnits":"1"},{"totalSlotMs":"35034","activeUnits":"0","completedUnits":"14","elapsedMs":"4795","pendingUnits":"1"},{"totalSlotMs":"35215","activeUnits":"0","completedUnits":"15","elapsedMs":"6530","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"687865856","totalPartitionsProcessed":"0","totalBytesProcessed":"687674709","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"store_sales","datasetId":"scale_10"}]},"endTime":"1570972596053"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query98_1570972587"},"etag":"BCVR4TKhJHkXUz7AZXkRaA==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query98_1570972587?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_10"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anonabe815908e5bff3e74f184999a3f623eca1168d5","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"\n-- query98\nSELECT i_item_id, \n i_item_desc, \n i_category, \n i_class, \n i_current_price, \n Sum(ss_ext_sales_price) AS itemrevenue, \n Sum(ss_ext_sales_price) benchmark.sh bootstrap.sh data_gen.sh load_data.sh query Readme.md results warmup 100 / Sum(Sum(ss_ext_sales_price)) \n OVER ( \n PARTITION BY i_class) AS revenueratio \nFROM store_sales, \n item, \n date_dim \nWHERE ss_item_sk = i_item_sk \n AND i_category IN ( 'Men', 'Home', 'Electronics' ) \n AND ss_sold_date_sk = d_date_sk \n AND Cast(d_date AS DATE) BETWEEN CAST('2000-05-18' AS DATE) AND ( \n CAST('2000-06-18' AS DATE) ) \nGROUP BY i_item_id, \n i_item_desc, \n i_category, \n i_class, \n i_current_price \nORDER BY i_category, \n i_class, \n i_item_id, \n i_item_desc, \n revenueratio; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query98_1570972587","user_email":"nithish.sankaranarayanan@ulb.be"}
