{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"6795","creationTime":"1570972459980","totalBytesProcessed":"176580221","startTime":"1570972460078","query":{"totalSlotMs":"6795","queryPlan":[{"readMsMax":"20","computeMsMax":"107","waitMsAvg":"1","id":"0","endMs":"1570972461057","waitMsMax":"1","startMs":"1570972460288","waitRatioMax":0.0009633911368015414,"readRatioAvg":0.019267822736030827,"parallelInputs":"1","recordsRead":"102000","computeRatioAvg":0.10308285163776493,"writeMsAvg":"140","status":"COMPLETE","writeMsMax":"140","computeMsAvg":"107","shuffleOutputBytesSpilled":"0","writeRatioMax":0.1348747591522158,"readMsAvg":"20","waitRatioAvg":0.0009633911368015414,"completedParallelInputs":"1","computeRatioMax":0.10308285163776493,"name":"S00: Input","shuffleOutputBytes":"3328173","recordsWritten":"102000","readRatioMax":0.019267822736030827,"steps":[{"kind":"READ","substeps":["$1:i_item_sk, $2:i_class, $3:i_category","FROM item"]},{"kind":"WRITE","substeps":["$1, $2, $3","TO __stage00_output","BY HASH($1)"]}],"writeRatioAvg":0.1348747591522158},{"readMsMax":"13","computeMsMax":"8","waitMsAvg":"1","id":"1","endMs":"1570972460918","waitMsMax":"1","startMs":"1570972460401","waitRatioMax":0.0009633911368015414,"readRatioAvg":0.012524084778420038,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.007707129094412331,"writeMsAvg":"493","status":"COMPLETE","writeMsMax":"493","computeMsAvg":"8","shuffleOutputBytesSpilled":"0","writeRatioMax":0.4749518304431599,"readMsAvg":"13","waitRatioAvg":0.0009633911368015414,"completedParallelInputs":"1","computeRatioMax":0.007707129094412331,"name":"S01: Input","shuffleOutputBytes":"3285","recordsWritten":"365","readRatioMax":0.012524084778420038,"steps":[{"kind":"READ","substeps":["$20:d_date_sk, $21:d_month_seq","FROM date_dim","WHERE between($21, 1183, 1194)"]},{"kind":"WRITE","substeps":["$20","TO __stage01_output","BY HASH($20)"]}],"writeRatioAvg":0.4749518304431599},{"readMsMax":"37","computeMsMax":"1038","inputStages":["0","1"],"waitMsAvg":"1","id":"4","endMs":"1570972461757","waitMsMax":"1","startMs":"1570972461189","waitRatioMax":0.0009633911368015414,"readRatioAvg":0.027938342967244702,"parallelInputs":"4","recordsRead":"7610490","computeRatioAvg":0.9094412331406551,"writeMsAvg":"3","status":"COMPLETE","writeMsMax":"4","computeMsAvg":"944","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0038535645472061657,"readMsAvg":"29","waitRatioAvg":0.0009633911368015414,"completedParallelInputs":"4","computeRatioMax":1,"name":"S04: Join+","shuffleOutputBytes":"17792","recordsWritten":"600","readRatioMax":0.03564547206165703,"steps":[{"kind":"READ","substeps":["$10:ws_sold_date_sk, $11:ws_item_sk, $12:ws_net_paid","FROM web_sales"]},{"kind":"READ","substeps":["$20","FROM __stage01_output"]},{"kind":"READ","substeps":["$1, $2, $3","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $80 := $72, $81 := $71","$50 := SUM($70)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $60 = $1"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $10 = $20"]},{"kind":"WRITE","substeps":["$81, $80, $50","TO __stage04_output","BY HASH($80, $81)"]}],"writeRatioAvg":0.002890173410404624},{"readMsMax":"0","computeMsMax":"6","inputStages":["4"],"waitMsAvg":"1","id":"5","endMs":"1570972461904","waitMsMax":"1","startMs":"1570972461884","waitRatioMax":0.0009633911368015414,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"600","computeRatioAvg":0.005780346820809248,"writeMsAvg":"3","status":"COMPLETE","writeMsMax":"3","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.002890173410404624,"readMsAvg":"0","waitRatioAvg":0.0009633911368015414,"completedParallelInputs":"1","computeRatioMax":0.005780346820809248,"name":"S05: Aggregate","shuffleOutputBytes":"4448","recordsWritten":"150","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$81, $80, $50","FROM __stage04_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $90 := $80, $91 := $81","$40 := SUM($50)"]},{"kind":"WRITE","substeps":["$91, $90, $40","TO __stage05_output","BY HASH($90, $91)"]}],"writeRatioAvg":0.002890173410404624},{"readMsMax":"0","computeMsMax":"4","inputStages":["5"],"waitMsAvg":"1","id":"6","endMs":"1570972462092","waitMsMax":"1","startMs":"1570972461918","waitRatioMax":0.0009633911368015414,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"150","computeRatioAvg":0.0038535645472061657,"writeMsAvg":"160","status":"COMPLETE","writeMsMax":"160","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":0.15414258188824662,"readMsAvg":"0","waitRatioAvg":0.0009633911368015414,"completedParallelInputs":"1","computeRatioMax":0.0038535645472061657,"name":"S06: Sort+","shuffleOutputBytes":"3796","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$91, $90, $40","FROM __stage05_output"]},{"kind":"SORT","substeps":["$111 ASC, $30 ASC","LIMIT 100"]},{"kind":"ANALYTIC_FUNCTION","substeps":["$30 := RANK() OVER (PARTITION BY $101, $100 ORDER BY $102 DESC)"]},{"kind":"SORT","substeps":["$90 ASC, $91 ASC, $40 DESC"]},{"kind":"WRITE","substeps":["$120, $121, $122, $123","TO __stage06_output"]}],"writeRatioAvg":0.15414258188824662},{"readMsMax":"0","computeMsMax":"5","inputStages":["6"],"waitMsAvg":"1","id":"7","endMs":"1570972462110","waitMsMax":"1","startMs":"1570972462011","waitRatioMax":0.0009633911368015414,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"100","computeRatioAvg":0.004816955684007707,"writeMsAvg":"5","status":"COMPLETE","writeMsMax":"5","computeMsAvg":"5","shuffleOutputBytesSpilled":"0","writeRatioMax":0.004816955684007707,"readMsAvg":"0","waitRatioAvg":0.0009633911368015414,"completedParallelInputs":"1","computeRatioMax":0.004816955684007707,"name":"S07: Output","shuffleOutputBytes":"3796","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$120, $121, $122, $123","FROM __stage06_output"]},{"kind":"SORT","substeps":["$121 ASC, $122 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$130, $131, $132, $133","TO __stage07_output"]}],"writeRatioAvg":0.004816955684007707}],"estimatedBytesProcessed":"176580221","timeline":[{"totalSlotMs":"1380","activeUnits":"6","completedUnits":"0","elapsedMs":"711","pendingUnits":"6"},{"totalSlotMs":"2699","activeUnits":"4","completedUnits":"2","elapsedMs":"1341","pendingUnits":"4"},{"totalSlotMs":"6795","activeUnits":"4","completedUnits":"9","elapsedMs":"2625","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"177209344","totalPartitionsProcessed":"0","totalBytesProcessed":"176580221","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"web_sales","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_10"}]},"endTime":"1570972462724"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query86_1570972458"},"etag":"0HhemFQI1Ab+r1J4KCdNrQ==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query86_1570972458?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_10"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon9b68d9fd82f39a8cce0e1c7c36bf3cec5eff20de","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query86\nSELECT Sum(ws_net_paid) AS total_sum, \n i_category, \n i_class, \n Rank() \n OVER ( \n PARTITION BY i_category, i_class\n ORDER BY Sum(ws_net_paid) DESC) AS rank_within_parent \nFROM web_sales, \n date_dim d1, \n item \nWHERE d1.d_month_seq BETWEEN 1183 AND 1183 + 11 \n AND d1.d_date_sk = ws_sold_date_sk \n AND i_item_sk = ws_item_sk \nGROUP BY i_category, i_class \nORDER BY i_category, \n rank_within_parent\nLIMIT 100; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query86_1570972458","user_email":"nithish.sankaranarayanan@ulb.be"}
