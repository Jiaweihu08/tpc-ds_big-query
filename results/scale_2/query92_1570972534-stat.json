{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"31179","creationTime":"1570972535418","totalBytesProcessed":"175887316","startTime":"1570972535568","query":{"totalSlotMs":"31179","queryPlan":[{"readMsMax":"13","computeMsMax":"20","waitMsAvg":"1","id":"0","endMs":"1570972535916","waitMsMax":"1","startMs":"1570972535723","waitRatioMax":0.0012048192771084338,"readRatioAvg":0.01566265060240964,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.024096385542168676,"writeMsAvg":"8","status":"COMPLETE","writeMsMax":"8","computeMsAvg":"20","shuffleOutputBytesSpilled":"0","writeRatioMax":0.00963855421686747,"readMsAvg":"13","waitRatioAvg":0.0012048192771084338,"completedParallelInputs":"1","computeRatioMax":0.024096385542168676,"name":"S00: Input","shuffleOutputBytes":"828","recordsWritten":"92","readRatioMax":0.01566265060240964,"steps":[{"kind":"READ","substeps":["$10:d_date_sk, $11:d_date","FROM date_dim","WHERE between(CAST($11 AS DATE), 11775, 11866)"]},{"kind":"WRITE","substeps":["$10","TO __stage00_output","BY HASH($10)"]}],"writeRatioAvg":0.00963855421686747},{"readMsMax":"9","computeMsMax":"16","waitMsAvg":"19","id":"2","endMs":"1570972535938","waitMsMax":"19","startMs":"1570972535779","waitRatioMax":0.02289156626506024,"readRatioAvg":0.010843373493975903,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.01927710843373494,"writeMsAvg":"135","status":"COMPLETE","writeMsMax":"135","computeMsAvg":"16","shuffleOutputBytesSpilled":"0","writeRatioMax":0.16265060240963855,"readMsAvg":"9","waitRatioAvg":0.02289156626506024,"completedParallelInputs":"1","computeRatioMax":0.01927710843373494,"name":"S02: Input","shuffleOutputBytes":"828","recordsWritten":"92","readRatioMax":0.010843373493975903,"steps":[{"kind":"READ","substeps":["$30:d_date_sk, $31:d_date","FROM date_dim","WHERE between(CAST($31 AS DATE), 11775, 11866)"]},{"kind":"WRITE","substeps":["$30","TO __stage02_output","BY HASH($30)"]}],"writeRatioAvg":0.16265060240963855},{"readMsMax":"15","computeMsMax":"7","waitMsAvg":"28","id":"3","endMs":"1570972535949","waitMsMax":"28","startMs":"1570972535871","waitRatioMax":0.033734939759036145,"readRatioAvg":0.018072289156626505,"parallelInputs":"1","recordsRead":"102000","computeRatioAvg":0.008433734939759036,"writeMsAvg":"5","status":"COMPLETE","writeMsMax":"5","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.006024096385542169,"readMsAvg":"15","waitRatioAvg":0.033734939759036145,"completedParallelInputs":"1","computeRatioMax":0.008433734939759036,"name":"S03: Input","shuffleOutputBytes":"207","recordsWritten":"23","readRatioMax":0.018072289156626505,"steps":[{"kind":"READ","substeps":["$40:i_item_sk, $41:i_manufact_id","FROM item","WHERE equal($41, 718)"]},{"kind":"WRITE","substeps":["$40","TO __stage03_output","BY HASH($40)"]}],"writeRatioAvg":0.006024096385542169},{"readMsMax":"44","computeMsMax":"781","inputStages":["0"],"waitMsAvg":"1","id":"5","endMs":"1570972536478","waitMsMax":"1","startMs":"1570972535996","waitRatioMax":0.0012048192771084338,"readRatioAvg":0.04096385542168675,"parallelInputs":"4","recordsRead":"7201398","computeRatioAvg":0.8204819277108434,"writeMsAvg":"20","status":"COMPLETE","writeMsMax":"23","computeMsAvg":"681","shuffleOutputBytesSpilled":"0","writeRatioMax":0.027710843373493974,"readMsAvg":"34","waitRatioAvg":0.0012048192771084338,"completedParallelInputs":"4","computeRatioMax":0.9409638554216867,"name":"S05: Join","shuffleOutputBytes":"3765226","recordsWritten":"209189","readRatioMax":0.05301204819277108,"steps":[{"kind":"READ","substeps":["$1:ws_sold_date_sk, $2:ws_item_sk, $3:ws_ext_discount_amt","FROM web_sales"]},{"kind":"READ","substeps":["$10","FROM __stage00_output"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $1 = $10"]},{"kind":"WRITE","substeps":["$120, $121","TO __stage05_output","BY HASH($120)"]}],"writeRatioAvg":0.024096385542168676},{"readMsMax":"0","computeMsMax":"10","inputStages":["5"],"waitMsAvg":"13","id":"6","endMs":"1570972536792","waitMsMax":"15","startMs":"1570972536501","waitRatioMax":0.018072289156626505,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"209189","computeRatioAvg":0.007228915662650603,"writeMsAvg":"171","status":"COMPLETE","writeMsMax":"225","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.2710843373493976,"readMsAvg":"0","waitRatioAvg":0.01566265060240964,"completedParallelInputs":"100","computeRatioMax":0.012048192771084338,"name":"S06: Coalesce","shuffleOutputBytes":"3765226","recordsWritten":"209189","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage05_output"]}],"writeRatioAvg":0.20602409638554217},{"readMsMax":"55","computeMsMax":"830","inputStages":["6","2","3"],"waitMsAvg":"7","id":"7","endMs":"1570972537166","waitMsMax":"7","startMs":"1570972536521","waitRatioMax":0.008433734939759036,"readRatioAvg":0.04578313253012048,"parallelInputs":"4","recordsRead":"8038246","computeRatioAvg":0.9012048192771084,"writeMsAvg":"7","status":"COMPLETE","writeMsMax":"8","computeMsAvg":"748","shuffleOutputBytesSpilled":"0","writeRatioMax":0.00963855421686747,"readMsAvg":"38","waitRatioAvg":0.008433734939759036,"completedParallelInputs":"4","computeRatioMax":1,"name":"S07: Join+","shuffleOutputBytes":"3213","recordsWritten":"57","readRatioMax":0.06626506024096386,"steps":[{"kind":"READ","substeps":["$20:ws_sold_date_sk, $21:ws_item_sk, $22:ws_ext_discount_amt","FROM web_sales"]},{"kind":"READ","substeps":["$40","FROM __stage03_output"]},{"kind":"READ","substeps":["$30","FROM __stage02_output"]},{"kind":"READ","substeps":["$120, $121","FROM __stage06_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $140 := $131","$80 := SHARD_AVG($132)","$81 := ANY_VALUE($130)"]},{"kind":"JOIN","substeps":["LEFT OUTER HASH JOIN EACH WITH ALL ON $111 = $120"]},{"kind":"COMPUTE","substeps":["$90 := UNIQUE_ROW_ID()"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $100 = $30"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $21 = $40"]},{"kind":"WRITE","substeps":["$80, $81, $140","TO __stage07_output","BY HASH($140)"]}],"writeRatioAvg":0.008433734939759036},{"readMsMax":"0","computeMsMax":"3","inputStages":["7"],"waitMsAvg":"10","id":"8","endMs":"1570972537475","waitMsMax":"10","startMs":"1570972537281","waitRatioMax":0.012048192771084338,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"57","computeRatioAvg":0.0036144578313253013,"writeMsAvg":"181","status":"COMPLETE","writeMsMax":"181","computeMsAvg":"3","shuffleOutputBytesSpilled":"0","writeRatioMax":0.21807228915662652,"readMsAvg":"0","waitRatioAvg":0.012048192771084338,"completedParallelInputs":"1","computeRatioMax":0.0036144578313253013,"name":"S08: Aggregate+","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$80, $81, $140","FROM __stage07_output"]},{"kind":"AGGREGATE","substeps":["$60 := SUM($71)"]},{"kind":"FILTER","substeps":["greater($71, multiply(1.3, $70))"]},{"kind":"AGGREGATE","substeps":["GROUP BY $150 := $140","$70 := ROOT_AVG($80)","$71 := ANY_VALUE($81)"]},{"kind":"WRITE","substeps":["$60","TO __stage08_output"]}],"writeRatioAvg":0.21807228915662652},{"readMsMax":"0","computeMsMax":"7","inputStages":["8"],"waitMsAvg":"1","id":"9","endMs":"1570972537522","waitMsMax":"1","startMs":"1570972537366","waitRatioMax":0.0012048192771084338,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1","computeRatioAvg":0.008433734939759036,"writeMsAvg":"5","status":"COMPLETE","writeMsMax":"5","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.006024096385542169,"readMsAvg":"0","waitRatioAvg":0.0012048192771084338,"completedParallelInputs":"1","computeRatioMax":0.008433734939759036,"name":"S09: Output","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$60","FROM __stage08_output"]},{"kind":"SORT","substeps":["$50 ASC","LIMIT 100"]},{"kind":"AGGREGATE","substeps":["$50 := SUM($60)"]},{"kind":"WRITE","substeps":["$160","TO __stage09_output"]}],"writeRatioAvg":0.006024096385542169}],"estimatedBytesProcessed":"175887316","timeline":[{"totalSlotMs":"724","activeUnits":"4","completedUnits":"3","elapsedMs":"656","pendingUnits":"4"},{"totalSlotMs":"31179","activeUnits":"4","completedUnits":"113","elapsedMs":"2133","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"176160768","totalPartitionsProcessed":"0","totalBytesProcessed":"175887316","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"web_sales","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_10"}]},"endTime":"1570972537731"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query92_1570972534"},"etag":"N6uLu1AvGIBoq8aP+l7CKw==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query92_1570972534?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_10"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon2f789fa8ad40b08a89e34e69cb10e3418ca79670","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query92\nSELECT \n Sum(ws_ext_discount_amt) AS excess_discount_amount\nFROM web_sales , \n item , \n date_dim \nWHERE i_manufact_id = 718 \nAND i_item_sk = ws_item_sk \nAND Cast(d_date AS DATE) BETWEEN Cast('2002-03-29' AS DATE) AND ( \n Cast('2002-06-28' AS DATE)) \nAND d_date_sk = ws_sold_date_sk \nAND ws_ext_discount_amt > \n ( \n SELECT 1.3 benchmark.sh bootstrap.sh data_gen.sh load_data.sh query Readme.md results warmup avg(ws_ext_discount_amt) \n FROM web_sales , \n date_dim \n WHERE ws_item_sk = i_item_sk \n AND Cast(d_date AS DATE) BETWEEN Cast('2002-03-29' AS DATE) AND ( \n cast('2002-06-28' AS date)) \n AND d_date_sk = ws_sold_date_sk ) \nORDER BY sum(ws_ext_discount_amt) \nLIMIT 100; \n\n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query92_1570972534","user_email":"nithish.sankaranarayanan@ulb.be"}
