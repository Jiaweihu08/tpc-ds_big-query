{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"12850","creationTime":"1570971337710","totalBytesProcessed":"676558481","startTime":"1570971337868","query":{"totalSlotMs":"12850","queryPlan":[{"readMsMax":"119","computeMsMax":"10","waitMsAvg":"1","id":"0","endMs":"1570971338186","waitMsMax":"1","startMs":"1570971338052","waitRatioMax":0.0006447453255963894,"readRatioAvg":0.07672469374597034,"parallelInputs":"1","recordsRead":"102000","computeRatioAvg":0.006447453255963894,"writeMsAvg":"4","status":"COMPLETE","writeMsMax":"4","computeMsAvg":"10","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0025789813023855577,"readMsAvg":"119","waitRatioAvg":0.0006447453255963894,"completedParallelInputs":"1","computeRatioMax":0.006447453255963894,"name":"S00: Input","shuffleOutputBytes":"3295","recordsWritten":"84","readRatioMax":0.07672469374597034,"steps":[{"kind":"READ","substeps":["$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manufact_id","FROM item","WHERE equal($13, 427)"]},{"kind":"WRITE","substeps":["$10, $11, $12","TO __stage00_output","BY HASH($10)"]}],"writeRatioAvg":0.0025789813023855577},{"readMsMax":"10","computeMsMax":"15","waitMsAvg":"25","id":"2","endMs":"1570971338183","waitMsMax":"25","startMs":"1570971338107","waitRatioMax":0.016118633139909737,"readRatioAvg":0.006447453255963894,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.009671179883945842,"writeMsAvg":"8","status":"COMPLETE","writeMsMax":"8","computeMsAvg":"15","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0051579626047711154,"readMsAvg":"10","waitRatioAvg":0.016118633139909737,"completedParallelInputs":"1","computeRatioMax":0.009671179883945842,"name":"S02: Input","shuffleOutputBytes":"108000","recordsWritten":"6000","readRatioMax":0.006447453255963894,"steps":[{"kind":"READ","substeps":["$20:d_date_sk, $21:d_year, $22:d_moy","FROM date_dim","WHERE equal($22, 11)"]},{"kind":"WRITE","substeps":["$20, $21","TO __stage02_output","BY HASH($20)"]}],"writeRatioAvg":0.0051579626047711154},{"readMsMax":"163","computeMsMax":"1551","inputStages":["0","2"],"waitMsAvg":"1","id":"4","endMs":"1570971340298","waitMsMax":"1","startMs":"1570971339249","waitRatioMax":0.0006447453255963894,"readRatioAvg":0.07607994842037395,"parallelInputs":"10","recordsRead":"28862952","computeRatioAvg":0.8020631850419084,"writeMsAvg":"4","status":"COMPLETE","writeMsMax":"9","computeMsAvg":"1244","shuffleOutputBytesSpilled":"0","writeRatioMax":0.005802707930367505,"readMsAvg":"118","waitRatioAvg":0.0006447453255963894,"completedParallelInputs":"10","computeRatioMax":1,"name":"S04: Join+","shuffleOutputBytes":"83685","recordsWritten":"1742","readRatioMax":0.10509348807221147,"steps":[{"kind":"READ","substeps":["$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_discount_amt","FROM store_sales"]},{"kind":"READ","substeps":["$20, $21","FROM __stage02_output"]},{"kind":"READ","substeps":["$10, $11, $12","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $70 := $61, $71 := $63, $72 := $62","$40 := SUM($60)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $51 = $10"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $1 = $20"]},{"kind":"WRITE","substeps":["$72, $71, $70, $40","TO __stage04_output","BY HASH($70, $71, $72)"]}],"writeRatioAvg":0.0025789813023855577},{"readMsMax":"0","computeMsMax":"4","inputStages":["4"],"waitMsAvg":"1","id":"5","endMs":"1570971340337","waitMsMax":"1","startMs":"1570971340326","waitRatioMax":0.0006447453255963894,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1742","computeRatioAvg":0.0025789813023855577,"writeMsAvg":"2","status":"COMPLETE","writeMsMax":"2","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0012894906511927789,"readMsAvg":"0","waitRatioAvg":0.0006447453255963894,"completedParallelInputs":"1","computeRatioMax":0.0025789813023855577,"name":"S05: Sort+","shuffleOutputBytes":"4789","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$72, $71, $70, $40","FROM __stage04_output"]},{"kind":"SORT","substeps":["$80 ASC, $30 DESC, $82 ASC","LIMIT 100"]},{"kind":"AGGREGATE","substeps":["GROUP BY $80 := $70, $81 := $71, $82 := $72","$30 := SUM($40)"]},{"kind":"WRITE","substeps":["$90, $91, $92, $93","TO __stage05_output"]}],"writeRatioAvg":0.0012894906511927789},{"readMsMax":"0","computeMsMax":"7","inputStages":["5"],"waitMsAvg":"1","id":"6","endMs":"1570971340415","waitMsMax":"1","startMs":"1570971340342","waitRatioMax":0.0006447453255963894,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"100","computeRatioAvg":0.004513217279174726,"writeMsAvg":"12","status":"COMPLETE","writeMsMax":"12","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.007736943907156673,"readMsAvg":"0","waitRatioAvg":0.0006447453255963894,"completedParallelInputs":"1","computeRatioMax":0.004513217279174726,"name":"S06: Output","shuffleOutputBytes":"4789","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$90, $91, $92, $93","FROM __stage05_output"]},{"kind":"SORT","substeps":["$92 ASC, $93 DESC, $90 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$100, $101, $102, $103","TO __stage06_output"]}],"writeRatioAvg":0.007736943907156673}],"estimatedBytesProcessed":"676558481","timeline":[{"totalSlotMs":"303","activeUnits":"0","completedUnits":"2","elapsedMs":"685","pendingUnits":"10"},{"totalSlotMs":"12850","activeUnits":"10","completedUnits":"14","elapsedMs":"2720","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"677380096","totalPartitionsProcessed":"0","totalBytesProcessed":"676558481","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_10"},{"projectId":"tpc-ds-2019","tableId":"store_sales","datasetId":"scale_10"}]},"endTime":"1570971340632"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query3_1570971336"},"etag":"bQOPLgDff4+HuqPwmlOaMw==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query3_1570971336?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_10"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon921620e071fa3ec6be8b8831b6ff23d660ef8312","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query3\nSELECT dt.d_year, \n item.i_brand_id brand_id, \n item.i_brand brand, \n Sum(ss_ext_discount_amt) sum_agg \nFROM date_dim dt, \n store_sales, \n item \nWHERE dt.d_date_sk = store_sales.ss_sold_date_sk \n AND store_sales.ss_item_sk = item.i_item_sk \n AND item.i_manufact_id = 427 \n AND dt.d_moy = 11 \nGROUP BY dt.d_year, \n item.i_brand, \n item.i_brand_id \nORDER BY dt.d_year, \n sum_agg DESC, \n brand_id\nLIMIT 100;\n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query3_1570971336","user_email":"nithish.sankaranarayanan@ulb.be"}
