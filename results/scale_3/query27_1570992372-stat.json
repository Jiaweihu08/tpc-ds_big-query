{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"346752","creationTime":"1570992374629","totalBytesProcessed":"17385069560","startTime":"1570992374784","query":{"totalSlotMs":"346752","queryPlan":[{"readMsMax":"14","computeMsMax":"178","waitMsAvg":"2","id":"0","endMs":"1570992375724","waitMsMax":"2","startMs":"1570992374980","waitRatioMax":0.0011261261261261261,"readRatioAvg":0.007882882882882882,"parallelInputs":"1","recordsRead":"204000","computeRatioAvg":0.10022522522522523,"writeMsAvg":"29","status":"COMPLETE","writeMsMax":"29","computeMsAvg":"178","shuffleOutputBytesSpilled":"0","writeRatioMax":0.01632882882882883,"readMsAvg":"14","waitRatioAvg":0.0011261261261261261,"completedParallelInputs":"1","computeRatioMax":0.10022522522522523,"name":"S00: Input","shuffleOutputBytes":"6120000","recordsWritten":"204000","readRatioMax":0.007882882882882882,"steps":[{"kind":"READ","substeps":["$1:i_item_sk, $2:i_item_id","FROM item"]},{"kind":"WRITE","substeps":["$1, $2","TO __stage00_output","BY HASH($1)"]}],"writeRatioAvg":0.01632882882882883},{"readMsMax":"41","computeMsMax":"9","waitMsAvg":"1","id":"1","endMs":"1570992375099","waitMsMax":"1","startMs":"1570992375025","waitRatioMax":0.0005630630630630631,"readRatioAvg":0.023085585585585586,"parallelInputs":"1","recordsRead":"402","computeRatioAvg":0.005067567567567568,"writeMsAvg":"7","status":"COMPLETE","writeMsMax":"7","computeMsAvg":"9","shuffleOutputBytesSpilled":"0","writeRatioMax":0.003941441441441441,"readMsAvg":"41","waitRatioAvg":0.0005630630630630631,"completedParallelInputs":"1","computeRatioMax":0.005067567567567568,"name":"S01: Input","shuffleOutputBytes":"672","recordsWritten":"42","readRatioMax":0.023085585585585586,"steps":[{"kind":"READ","substeps":["$10:s_store_sk, $11:s_state","FROM store","WHERE in($11, 'TN', 'TN', 'TN', 'TN', 'TN', 'TN')"]},{"kind":"WRITE","substeps":["$10, $11","TO __stage01_output","BY HASH($10)"]}],"writeRatioAvg":0.003941441441441441},{"readMsMax":"13","computeMsMax":"11","waitMsAvg":"23","id":"2","endMs":"1570992375156","waitMsMax":"23","startMs":"1570992375067","waitRatioMax":0.01295045045045045,"readRatioAvg":0.00731981981981982,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.006193693693693694,"writeMsAvg":"27","status":"COMPLETE","writeMsMax":"27","computeMsAvg":"11","shuffleOutputBytesSpilled":"0","writeRatioMax":0.015202702702702704,"readMsAvg":"13","waitRatioAvg":0.01295045045045045,"completedParallelInputs":"1","computeRatioMax":0.006193693693693694,"name":"S02: Input","shuffleOutputBytes":"3294","recordsWritten":"366","readRatioMax":0.00731981981981982,"steps":[{"kind":"READ","substeps":["$30:d_date_sk, $31:d_year","FROM date_dim","WHERE equal($31, 2000)"]},{"kind":"WRITE","substeps":["$30","TO __stage02_output","BY HASH($30)"]}],"writeRatioAvg":0.015202702702702704},{"readMsMax":"22","computeMsMax":"45","waitMsAvg":"30","id":"3","endMs":"1570992375184","waitMsMax":"30","startMs":"1570992375100","waitRatioMax":0.016891891891891893,"readRatioAvg":0.012387387387387387,"parallelInputs":"1","recordsRead":"1920800","computeRatioAvg":0.02533783783783784,"writeMsAvg":"23","status":"COMPLETE","writeMsMax":"23","computeMsAvg":"45","shuffleOutputBytesSpilled":"0","writeRatioMax":0.01295045045045045,"readMsAvg":"22","waitRatioAvg":0.016891891891891893,"completedParallelInputs":"1","computeRatioMax":0.02533783783783784,"name":"S03: Input","shuffleOutputBytes":"246960","recordsWritten":"27440","readRatioMax":0.012387387387387387,"steps":[{"kind":"READ","substeps":["$40:cd_demo_sk, $41:cd_gender, $42:cd_marital_status, $43:cd_education_status","FROM customer_demographics","WHERE and(equal($41, 'M'), equal($42, 'D'), equal($43, 'College'))"]},{"kind":"WRITE","substeps":["$40","TO __stage03_output","BY HASH($40)"]}],"writeRatioAvg":0.01295045045045045},{"readMsMax":"0","computeMsMax":"8","inputStages":["3"],"waitMsAvg":"1","id":"5","endMs":"1570992375418","waitMsMax":"3","startMs":"1570992375206","waitRatioMax":0.0016891891891891893,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"27440","computeRatioAvg":0.0022522522522522522,"writeMsAvg":"124","status":"COMPLETE","writeMsMax":"192","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":0.10810810810810811,"readMsAvg":"0","waitRatioAvg":0.0005630630630630631,"completedParallelInputs":"100","computeRatioMax":0.0045045045045045045,"name":"S05: Coalesce","shuffleOutputBytes":"246960","recordsWritten":"27440","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage03_output"]}],"writeRatioAvg":0.06981981981981981},{"readMsMax":"110","computeMsMax":"1776","inputStages":["0","1","2","5"],"waitMsAvg":"3","id":"7","endMs":"1570992377002","waitMsMax":"7","startMs":"1570992375881","waitRatioMax":0.003941441441441441,"readRatioAvg":0.02533783783783784,"parallelInputs":"184","recordsRead":"324532955","computeRatioAvg":0.6903153153153153,"writeMsAvg":"6","status":"COMPLETE","writeMsMax":"32","computeMsAvg":"1226","shuffleOutputBytesSpilled":"0","writeRatioMax":0.018018018018018018,"readMsAvg":"45","waitRatioAvg":0.0016891891891891893,"completedParallelInputs":"184","computeRatioMax":1,"name":"S07: Join+","shuffleOutputBytes":"6042259","recordsWritten":"65942","readRatioMax":0.061936936936936936,"steps":[{"kind":"READ","substeps":["$20:ss_sold_date_sk, $21:ss_item_sk, $22:ss_cdemo_sk, $23:ss_store_sk, $24:ss_quantity, $25:ss_list_price, $26:ss_sales_price, $27:ss_coupon_amt","FROM store_sales"]},{"kind":"READ","substeps":["$40","FROM __stage05_output"]},{"kind":"READ","substeps":["$30","FROM __stage02_output"]},{"kind":"READ","substeps":["$10, $11","FROM __stage01_output"]},{"kind":"READ","substeps":["$1, $2","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $130 := $125, $131 := $120","$60 := SHARD_AVG($121)","$61 := SHARD_AVG($122)","$62 := SHARD_AVG($124)","$63 := SHARD_AVG($123)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $110 = $1"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $101 = $10"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $80 = $30"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $22 = $40"]},{"kind":"WRITE","substeps":["$130, $131, $60, $61, $62, $63","TO __stage07_output","BY HASH($130, $131)"]}],"writeRatioAvg":0.0033783783783783786},{"readMsMax":"0","computeMsMax":"15","inputStages":["7"],"waitMsAvg":"1","id":"8","endMs":"1570992377215","waitMsMax":"2","startMs":"1570992377006","waitRatioMax":0.0011261261261261261,"readRatioAvg":0,"parallelInputs":"18","recordsRead":"65942","computeRatioAvg":0.006756756756756757,"writeMsAvg":"166","status":"COMPLETE","writeMsMax":"191","computeMsAvg":"12","shuffleOutputBytesSpilled":"0","writeRatioMax":0.10754504504504504,"readMsAvg":"0","waitRatioAvg":0.0005630630630630631,"completedParallelInputs":"18","computeRatioMax":0.008445945945945946,"name":"S08: Sort+","shuffleOutputBytes":"115040","recordsWritten":"1800","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$130, $131, $60, $61, $62, $63","FROM __stage07_output"]},{"kind":"SORT","substeps":["$140 ASC, $141 ASC","LIMIT 100"]},{"kind":"AGGREGATE","substeps":["GROUP BY $140 := $130, $141 := $131","$50 := ROOT_AVG($60)","$51 := ROOT_AVG($61)","$52 := ROOT_AVG($62)","$53 := ROOT_AVG($63)"]},{"kind":"WRITE","substeps":["$150, $151, $152, $153, $154, $155","TO __stage08_output"]}],"writeRatioAvg":0.09346846846846847},{"readMsMax":"0","computeMsMax":"6","inputStages":["8"],"waitMsAvg":"1","id":"9","endMs":"1570992377228","waitMsMax":"1","startMs":"1570992377124","waitRatioMax":0.0005630630630630631,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1800","computeRatioAvg":0.0033783783783783786,"writeMsAvg":"6","status":"COMPLETE","writeMsMax":"6","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0033783783783783786,"readMsAvg":"0","waitRatioAvg":0.0005630630630630631,"completedParallelInputs":"1","computeRatioMax":0.0033783783783783786,"name":"S09: Output","shuffleOutputBytes":"6392","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$150, $151, $152, $153, $154, $155","FROM __stage08_output"]},{"kind":"SORT","substeps":["$150 ASC, $151 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$160, $161, $162, $163, $164, $165","TO __stage09_output"]}],"writeRatioAvg":0.0033783783783783786}],"estimatedBytesProcessed":"17385069560","timeline":[{"totalSlotMs":"29511","activeUnits":"185","completedUnits":"103","elapsedMs":"697","pendingUnits":"185"},{"totalSlotMs":"341928","activeUnits":"184","completedUnits":"285","elapsedMs":"2097","pendingUnits":"3"},{"totalSlotMs":"346752","activeUnits":"6","completedUnits":"307","elapsedMs":"2624","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"17385390080","totalPartitionsProcessed":"0","totalBytesProcessed":"17385069560","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"store_sales","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"customer_demographics","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"store","datasetId":"scale_100"}]},"endTime":"1570992377435"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query27_1570992372"},"etag":"tDJMONe4mFyxJ9gzkWs+PA==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query27_1570992372?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_100"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anonde9560fd718b80793777ba483f720e63cabba42f","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query27\nSELECT i_item_id, \n s_state, \n Avg(ss_quantity) agg1, \n Avg(ss_list_price) agg2, \n Avg(ss_coupon_amt) agg3, \n Avg(ss_sales_price) agg4 \nFROM store_sales, \n customer_demographics, \n date_dim, \n store, \n item \nWHERE ss_sold_date_sk = d_date_sk \n AND ss_item_sk = i_item_sk \n AND ss_store_sk = s_store_sk \n AND ss_cdemo_sk = cd_demo_sk \n AND cd_gender = 'M' \n AND cd_marital_status = 'D' \n AND cd_education_status = 'College' \n AND d_year = 2000 \n AND s_state IN ( 'TN', 'TN', 'TN', 'TN', \n 'TN', 'TN' ) \nGROUP BY i_item_id, s_state \nORDER BY i_item_id, \n s_state\nLIMIT 100; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query27_1570992372","user_email":"nithish.sankaranarayanan@ulb.be"}
