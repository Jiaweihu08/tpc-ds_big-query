{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"864508","creationTime":"1570992011153","totalBytesProcessed":"6613023338","startTime":"1570992011344","query":{"totalSlotMs":"864508","queryPlan":[{"readMsMax":"6","computeMsMax":"5","waitMsAvg":"28","id":"0","endMs":"1570992011654","waitMsMax":"28","startMs":"1570992011634","waitRatioMax":0.008649984553599012,"readRatioAvg":0.0018535681186283596,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.0015446400988569664,"writeMsAvg":"4","status":"COMPLETE","writeMsMax":"4","computeMsAvg":"5","shuffleOutputBytesSpilled":"0","writeRatioMax":0.001235712079085573,"readMsAvg":"6","waitRatioAvg":0.008649984553599012,"completedParallelInputs":"1","computeRatioMax":0.0015446400988569664,"name":"S00: Input","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0.0018535681186283596,"steps":[{"kind":"READ","substeps":["$60:d_month_seq, $61:d_year, $62:d_moy","FROM date_dim","WHERE and(equal($61, 1998), equal($62, 7))"]},{"kind":"AGGREGATE","substeps":["GROUP BY $120 := $60"]},{"kind":"WRITE","substeps":["$120","TO __stage00_output","BY HASH($120)"]}],"writeRatioAvg":0.001235712079085573},{"readMsMax":"41","computeMsMax":"39","waitMsAvg":"32","id":"1","endMs":"1570992011725","waitMsMax":"32","startMs":"1570992011654","waitRatioMax":0.009885696632684585,"readRatioAvg":0.012666048810627124,"parallelInputs":"1","recordsRead":"204000","computeRatioAvg":0.012048192771084338,"writeMsAvg":"5","status":"COMPLETE","writeMsMax":"5","computeMsAvg":"39","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0015446400988569664,"readMsAvg":"41","waitRatioAvg":0.009885696632684585,"completedParallelInputs":"1","computeRatioMax":0.012048192771084338,"name":"S01: Input","shuffleOutputBytes":"307","recordsWritten":"11","readRatioMax":0.012666048810627124,"steps":[{"kind":"READ","substeps":["$10:i_current_price, $11:i_category","FROM item"]},{"kind":"AGGREGATE","substeps":["GROUP BY $180 := $11","$110 := SHARD_AVG($10)"]},{"kind":"WRITE","substeps":["$180, $110","TO __stage01_output","BY HASH($180)"]}],"writeRatioAvg":0.0015446400988569664},{"readMsMax":"0","computeMsMax":"2","inputStages":["0"],"waitMsAvg":"7","id":"2","endMs":"1570992011687","waitMsMax":"7","startMs":"1570992011675","waitRatioMax":0.002162496138399753,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1","computeRatioAvg":0.0006178560395427865,"writeMsAvg":"2","status":"COMPLETE","writeMsMax":"2","computeMsAvg":"2","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0006178560395427865,"readMsAvg":"0","waitRatioAvg":0.002162496138399753,"completedParallelInputs":"1","computeRatioMax":0.0006178560395427865,"name":"S02: Aggregate+","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$120","FROM __stage00_output"]},{"kind":"LIMIT","substeps":["2"]},{"kind":"AGGREGATE","substeps":["GROUP BY $130 := $120"]},{"kind":"WRITE","substeps":["$130","TO __stage02_output"]}],"writeRatioAvg":0.0006178560395427865},{"readMsMax":"0","computeMsMax":"6","inputStages":["2"],"waitMsAvg":"19","id":"3","endMs":"1570992011764","waitMsMax":"19","startMs":"1570992011687","waitRatioMax":0.005869632375656472,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1","computeRatioAvg":0.0018535681186283596,"writeMsAvg":"29","status":"COMPLETE","writeMsMax":"29","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.008958912573370404,"readMsAvg":"0","waitRatioAvg":0.005869632375656472,"completedParallelInputs":"1","computeRatioMax":0.0018535681186283596,"name":"S03: Aggregate","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$130","FROM __stage02_output"]},{"kind":"AGGREGATE","substeps":["$100 := ANY_AND_CHECK($130)"]},{"kind":"WRITE","substeps":["$100","TO __stage03_output"]}],"writeRatioAvg":0.008958912573370404},{"readMsMax":"0","computeMsMax":"10","inputStages":["1"],"waitMsAvg":"18","id":"4","endMs":"1570992012005","waitMsMax":"18","startMs":"1570992011817","waitRatioMax":0.005560704355885079,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"11","computeRatioAvg":0.0030892801977139327,"writeMsAvg":"121","status":"COMPLETE","writeMsMax":"121","computeMsAvg":"10","shuffleOutputBytesSpilled":"0","writeRatioMax":0.03738029039233858,"readMsAvg":"0","waitRatioAvg":0.005560704355885079,"completedParallelInputs":"1","computeRatioMax":0.0030892801977139327,"name":"S04: Aggregate","shuffleOutputBytes":"199","recordsWritten":"10","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$180, $110","FROM __stage01_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $190 := $180","$90 := ROOT_AVG($110)"]},{"kind":"WRITE","substeps":["$90, $190","TO __stage04_output","BY HASH($190)"]}],"writeRatioAvg":0.03738029039233858},{"readMsMax":"19","computeMsMax":"220","waitMsAvg":"22","id":"5","endMs":"1570992012338","waitMsMax":"22","startMs":"1570992011840","waitRatioMax":0.006796416434970652,"readRatioAvg":0.005869632375656472,"parallelInputs":"1","recordsRead":"204000","computeRatioAvg":0.06796416434970652,"writeMsAvg":"191","status":"COMPLETE","writeMsMax":"191","computeMsAvg":"220","shuffleOutputBytesSpilled":"0","writeRatioMax":0.059005251776336115,"readMsAvg":"19","waitRatioAvg":0.006796416434970652,"completedParallelInputs":"1","computeRatioMax":0.06796416434970652,"name":"S05: Input","shuffleOutputBytes":"5885600","recordsWritten":"204000","readRatioMax":0.005869632375656472,"steps":[{"kind":"READ","substeps":["$1:i_item_sk, $2:i_current_price, $3:i_category","FROM item"]},{"kind":"WRITE","substeps":["$1, $2, $3","TO __stage05_output","BY HASH($1)"]}],"writeRatioAvg":0.059005251776336115},{"readMsMax":"17","computeMsMax":"20","waitMsAvg":"24","id":"6","endMs":"1570992012099","waitMsMax":"24","startMs":"1570992011861","waitRatioMax":0.0074142724745134385,"readRatioAvg":0.005251776336113685,"parallelInputs":"1","recordsRead":"73050","computeRatioAvg":0.006178560395427865,"writeMsAvg":"195","status":"COMPLETE","writeMsMax":"195","computeMsAvg":"20","shuffleOutputBytesSpilled":"0","writeRatioMax":0.060240963855421686,"readMsAvg":"17","waitRatioAvg":0.0074142724745134385,"completedParallelInputs":"1","computeRatioMax":0.006178560395427865,"name":"S06: Input","shuffleOutputBytes":"279","recordsWritten":"31","readRatioMax":0.005251776336113685,"steps":[{"kind":"READ","substeps":["$100","FROM __stage03_output"]},{"kind":"READ","substeps":["$30:d_date_sk, $31:d_month_seq","FROM date_dim"]},{"kind":"FILTER","substeps":["equal($31, $100)"]},{"kind":"WRITE","substeps":["$30","TO __stage06_output","BY HASH($30)"]}],"writeRatioAvg":0.060240963855421686},{"readMsMax":"109","computeMsMax":"708","waitMsAvg":"6","id":"9","endMs":"1570992012491","waitMsMax":"6","startMs":"1570992011990","waitRatioMax":0.0018535681186283596,"readRatioAvg":0.03367315415508187,"parallelInputs":"1","recordsRead":"1000000","computeRatioAvg":0.21872103799814643,"writeMsAvg":"69","status":"COMPLETE","writeMsMax":"69","computeMsAvg":"708","shuffleOutputBytesSpilled":"0","writeRatioMax":0.021316033364226137,"readMsAvg":"109","waitRatioAvg":0.0018535681186283596,"completedParallelInputs":"1","computeRatioMax":0.21872103799814643,"name":"S09: Input","shuffleOutputBytes":"15819964","recordsWritten":"1000000","readRatioMax":0.03367315415508187,"steps":[{"kind":"READ","substeps":["$40:ca_address_sk, $41:ca_state","FROM customer_address"]},{"kind":"WRITE","substeps":["$40, $41","TO __stage09_output","BY HASH($40)"]}],"writeRatioAvg":0.021316033364226137},{"readMsMax":"0","computeMsMax":"16","inputStages":["9"],"waitMsAvg":"12","id":"10","endMs":"1570992012880","waitMsMax":"13","startMs":"1570992012598","waitRatioMax":0.004016064257028112,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"1000000","computeRatioAvg":0.0037071362372567192,"writeMsAvg":"45","status":"COMPLETE","writeMsMax":"172","computeMsAvg":"12","shuffleOutputBytesSpilled":"0","writeRatioMax":0.053135619400679644,"readMsAvg":"0","waitRatioAvg":0.0037071362372567192,"completedParallelInputs":"100","computeRatioMax":0.004942848316342292,"name":"S0A: Coalesce","shuffleOutputBytes":"15819964","recordsWritten":"1000000","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage09_output"]}],"writeRatioAvg":0.013901760889712697},{"readMsMax":"27","computeMsMax":"3237","inputStages":["10"],"waitMsAvg":"0","id":"11","endMs":"1570992014739","waitMsMax":"0","startMs":"1570992012660","waitRatioMax":0,"readRatioAvg":0.008341056533827619,"parallelInputs":"1","recordsRead":"3000000","computeRatioAvg":1,"writeMsAvg":"145","status":"COMPLETE","writeMsMax":"145","computeMsAvg":"3237","shuffleOutputBytesSpilled":"0","writeRatioMax":0.044794562866852024,"readMsAvg":"27","waitRatioAvg":0,"completedParallelInputs":"1","computeRatioMax":1,"name":"S0B: Join","shuffleOutputBytes":"31637630","recordsWritten":"2000000","readRatioMax":0.008341056533827619,"steps":[{"kind":"READ","substeps":["$50:c_customer_sk, $51:c_current_addr_sk","FROM customer"]},{"kind":"READ","substeps":["$40, $41","FROM __stage0A_output"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $51 = $40"]},{"kind":"WRITE","substeps":["$140, $141","TO __stage0B_output","BY HASH($141)"]}],"writeRatioAvg":0.044794562866852024},{"readMsMax":"0","computeMsMax":"27","inputStages":["11"],"waitMsAvg":"1","id":"12","endMs":"1570992016193","waitMsMax":"5","startMs":"1570992015120","waitRatioMax":0.0015446400988569664,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"2000000","computeRatioAvg":0.005560704355885079,"writeMsAvg":"116","status":"COMPLETE","writeMsMax":"423","computeMsAvg":"18","shuffleOutputBytesSpilled":"0","writeRatioMax":0.13067655236329936,"readMsAvg":"0","waitRatioAvg":0.00030892801977139327,"completedParallelInputs":"100","computeRatioMax":0.008341056533827619,"name":"S0C: Coalesce","shuffleOutputBytes":"31637630","recordsWritten":"2000000","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage0B_output"]}],"writeRatioAvg":0.03583565029348162},{"readMsMax":"0","computeMsMax":"13","inputStages":["6"],"waitMsAvg":"4","id":"13","endMs":"1570992015814","waitMsMax":"6","startMs":"1570992015120","waitRatioMax":0.0018535681186283596,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"31","computeRatioAvg":0.002162496138399753,"writeMsAvg":"89","status":"COMPLETE","writeMsMax":"131","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.04046957059005252,"readMsAvg":"0","waitRatioAvg":0.001235712079085573,"completedParallelInputs":"100","computeRatioMax":0.004016064257028112,"name":"S0D: Coalesce","shuffleOutputBytes":"279","recordsWritten":"31","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage06_output"]}],"writeRatioAvg":0.027494593759654},{"readMsMax":"0","computeMsMax":"10","inputStages":["4"],"waitMsAvg":"6","id":"14","endMs":"1570992015889","waitMsMax":"17","startMs":"1570992015120","waitRatioMax":0.005251776336113685,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"10","computeRatioAvg":0.0018535681186283596,"writeMsAvg":"108","status":"COMPLETE","writeMsMax":"329","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.10163731850478838,"readMsAvg":"0","waitRatioAvg":0.0018535681186283596,"completedParallelInputs":"100","computeRatioMax":0.0030892801977139327,"name":"S0E: Coalesce","shuffleOutputBytes":"199","recordsWritten":"10","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage04_output"]}],"writeRatioAvg":0.033364226135310475},{"readMsMax":"137","computeMsMax":"3028","inputStages":["3","14","5","13","12"],"waitMsAvg":"2","id":"15","endMs":"1570992020990","waitMsMax":"5","startMs":"1570992015183","waitRatioMax":0.0015446400988569664,"readRatioAvg":0.011739264751312943,"parallelInputs":"184","recordsRead":"687416651","computeRatioAvg":0.6666666666666666,"writeMsAvg":"16","status":"COMPLETE","writeMsMax":"311","computeMsAvg":"2158","shuffleOutputBytesSpilled":"0","writeRatioMax":0.09607661414890331,"readMsAvg":"38","waitRatioAvg":0.0006178560395427865,"completedParallelInputs":"184","computeRatioMax":0.9354340438677788,"name":"S0F: Join+","shuffleOutputBytes":"146064","recordsWritten":"9198","readRatioMax":0.042323138708680874,"steps":[{"kind":"READ","substeps":["$100","FROM __stage03_output"]},{"kind":"READ","substeps":["$20:ss_sold_date_sk, $21:ss_item_sk, $22:ss_customer_sk","FROM store_sales"]},{"kind":"READ","substeps":["$140, $141","FROM __stage0C_output"]},{"kind":"READ","substeps":["$30","FROM __stage0D_output"]},{"kind":"READ","substeps":["$1, $2, $3","FROM __stage05_output"]},{"kind":"READ","substeps":["$90, $190","FROM __stage0E_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $210 := $201","$80 := COUNT_STAR()"]},{"kind":"FILTER","substeps":["greater($200, multiply(1.2, $202))"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $172 = $190"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $160 = $1"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $151 = $30"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $22 = $141"]},{"kind":"WRITE","substeps":["$210, $80","TO __stage0F_output","BY HASH($210)"]}],"writeRatioAvg":0.004942848316342292},{"readMsMax":"0","computeMsMax":"6","inputStages":["15"],"waitMsAvg":"1","id":"16","endMs":"1570992021292","waitMsMax":"2","startMs":"1570992021177","waitRatioMax":0.0006178560395427865,"readRatioAvg":0,"parallelInputs":"18","recordsRead":"9198","computeRatioAvg":0.001235712079085573,"writeMsAvg":"42","status":"COMPLETE","writeMsMax":"53","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":0.016373185047883845,"readMsAvg":"0","waitRatioAvg":0.00030892801977139327,"completedParallelInputs":"18","computeRatioMax":0.0018535681186283596,"name":"S10: Sort+","shuffleOutputBytes":"826","recordsWritten":"52","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$210, $80","FROM __stage0F_output"]},{"kind":"SORT","substeps":["$70 ASC","LIMIT 100"]},{"kind":"FILTER","substeps":["greater_or_equal($70, 10)"]},{"kind":"AGGREGATE","substeps":["GROUP BY $220 := $210","$70 := SUM_OF_COUNTS($80)"]},{"kind":"WRITE","substeps":["$230, $231","TO __stage10_output"]}],"writeRatioAvg":0.012974976830398516},{"readMsMax":"0","computeMsMax":"7","inputStages":["16"],"waitMsAvg":"1","id":"17","endMs":"1570992021346","waitMsMax":"1","startMs":"1570992021205","waitRatioMax":0.00030892801977139327,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"52","computeRatioAvg":0.002162496138399753,"writeMsAvg":"7","status":"COMPLETE","writeMsMax":"7","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.002162496138399753,"readMsAvg":"0","waitRatioAvg":0.00030892801977139327,"completedParallelInputs":"1","computeRatioMax":0.002162496138399753,"name":"S11: Output","shuffleOutputBytes":"826","recordsWritten":"52","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$230, $231","FROM __stage10_output"]},{"kind":"SORT","substeps":["$231 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$240, $241","TO __stage11_output"]}],"writeRatioAvg":0.002162496138399753}],"estimatedBytesProcessed":"6613023338","timeline":[{"totalSlotMs":"17893","activeUnits":"187","completedUnits":"6","elapsedMs":"790","pendingUnits":"187"},{"totalSlotMs":"248536","activeUnits":"140","completedUnits":"290","elapsedMs":"1931","pendingUnits":"3"},{"totalSlotMs":"250454","activeUnits":"4","completedUnits":"291","elapsedMs":"2432","pendingUnits":"2"},{"totalSlotMs":"386396","activeUnits":"484","completedUnits":"334","elapsedMs":"4458","pendingUnits":"259"},{"totalSlotMs":"660409","activeUnits":"188","completedUnits":"409","elapsedMs":"5550","pendingUnits":"184"},{"totalSlotMs":"841451","activeUnits":"66","completedUnits":"586","elapsedMs":"6627","pendingUnits":"7"},{"totalSlotMs":"858035","activeUnits":"10","completedUnits":"592","elapsedMs":"7795","pendingUnits":"1"},{"totalSlotMs":"860018","activeUnits":"3","completedUnits":"592","elapsedMs":"8792","pendingUnits":"1"},{"totalSlotMs":"864508","activeUnits":"3","completedUnits":"612","elapsedMs":"10157","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"6613368832","totalPartitionsProcessed":"0","totalBytesProcessed":"6613023338","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"customer_address","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"store_sales","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"customer","datasetId":"scale_100"}]},"endTime":"1570992021528"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query6_1570992009"},"etag":"bXx3gebJF1T67EnP5pcrNA==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query6_1570992009?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_100"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon5453ce44660545e9c5857b80c6f696b0dbb54396","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query6\nSELECT a.ca_state state, \n Count(*) cnt \nFROM customer_address a, \n customer c, \n store_sales s, \n date_dim d, \n item i \nWHERE a.ca_address_sk = c.c_current_addr_sk \n AND c.c_customer_sk = s.ss_customer_sk \n AND s.ss_sold_date_sk = d.d_date_sk \n AND s.ss_item_sk = i.i_item_sk \n AND d.d_month_seq = (SELECT DISTINCT ( d_month_seq ) \n FROM date_dim \n WHERE d_year = 1998 \n AND d_moy = 7) \n AND i.i_current_price > 1.2 benchmark.sh bootstrap.sh data_gen.sh load_data.sh query Readme.md results scale_2.zip warmup (SELECT Avg(j.i_current_price) \n FROM item j \n WHERE j.i_category = i.i_category) \nGROUP BY a.ca_state \nHAVING Count(*) >= 10 \nORDER BY cnt\nLIMIT 100; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query6_1570992009","user_email":"nithish.sankaranarayanan@ulb.be"}
