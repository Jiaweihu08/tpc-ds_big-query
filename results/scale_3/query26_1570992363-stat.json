{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"214505","creationTime":"1570992365884","totalBytesProcessed":"9231954679","startTime":"1570992366101","query":{"totalSlotMs":"214505","queryPlan":[{"readMsMax":"35","computeMsMax":"7","waitMsAvg":"1","id":"0","endMs":"1570992366348","waitMsMax":"1","startMs":"1570992366297","waitRatioMax":0.0007163323782234957,"readRatioAvg":0.025071633237822348,"parallelInputs":"1","recordsRead":"1000","computeRatioAvg":0.00501432664756447,"writeMsAvg":"4","status":"COMPLETE","writeMsMax":"4","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0028653295128939827,"readMsAvg":"35","waitRatioAvg":0.0007163323782234957,"completedParallelInputs":"1","computeRatioMax":0.00501432664756447,"name":"S00: Input","shuffleOutputBytes":"8982","recordsWritten":"998","readRatioMax":0.025071633237822348,"steps":[{"kind":"READ","substeps":["$10:p_promo_sk, $11:p_channel_email, $12:p_channel_event","FROM promotion","WHERE or(equal($11, 'N'), equal($12, 'N'))"]},{"kind":"WRITE","substeps":["$10","TO __stage00_output","BY HASH($10)"]}],"writeRatioAvg":0.0028653295128939827},{"readMsMax":"15","computeMsMax":"183","waitMsAvg":"15","id":"1","endMs":"1570992367133","waitMsMax":"15","startMs":"1570992366330","waitRatioMax":0.010744985673352435,"readRatioAvg":0.010744985673352435,"parallelInputs":"1","recordsRead":"204000","computeRatioAvg":0.1310888252148997,"writeMsAvg":"33","status":"COMPLETE","writeMsMax":"33","computeMsAvg":"183","shuffleOutputBytesSpilled":"0","writeRatioMax":0.02363896848137536,"readMsAvg":"15","waitRatioAvg":0.010744985673352435,"completedParallelInputs":"1","computeRatioMax":0.1310888252148997,"name":"S01: Input","shuffleOutputBytes":"6120000","recordsWritten":"204000","readRatioMax":0.010744985673352435,"steps":[{"kind":"READ","substeps":["$1:i_item_sk, $2:i_item_id","FROM item"]},{"kind":"WRITE","substeps":["$1, $2","TO __stage01_output","BY HASH($1)"]}],"writeRatioAvg":0.02363896848137536},{"readMsMax":"12","computeMsMax":"12","waitMsAvg":"12","id":"2","endMs":"1570992366417","waitMsMax":"12","startMs":"1570992366348","waitRatioMax":0.008595988538681949,"readRatioAvg":0.008595988538681949,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.008595988538681949,"writeMsAvg":"8","status":"COMPLETE","writeMsMax":"8","computeMsAvg":"12","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0057306590257879654,"readMsAvg":"12","waitRatioAvg":0.008595988538681949,"completedParallelInputs":"1","computeRatioMax":0.008595988538681949,"name":"S02: Input","shuffleOutputBytes":"3294","recordsWritten":"366","readRatioMax":0.008595988538681949,"steps":[{"kind":"READ","substeps":["$30:d_date_sk, $31:d_year","FROM date_dim","WHERE equal($31, 2000)"]},{"kind":"WRITE","substeps":["$30","TO __stage02_output","BY HASH($30)"]}],"writeRatioAvg":0.0057306590257879654},{"readMsMax":"114","computeMsMax":"29","waitMsAvg":"17","id":"3","endMs":"1570992366648","waitMsMax":"17","startMs":"1570992366374","waitRatioMax":0.012177650429799427,"readRatioAvg":0.08166189111747851,"parallelInputs":"1","recordsRead":"1920800","computeRatioAvg":0.020773638968481375,"writeMsAvg":"137","status":"COMPLETE","writeMsMax":"137","computeMsAvg":"29","shuffleOutputBytesSpilled":"0","writeRatioMax":0.09813753581661891,"readMsAvg":"114","waitRatioAvg":0.012177650429799427,"completedParallelInputs":"1","computeRatioMax":0.020773638968481375,"name":"S03: Input","shuffleOutputBytes":"246960","recordsWritten":"27440","readRatioMax":0.08166189111747851,"steps":[{"kind":"READ","substeps":["$40:cd_demo_sk, $41:cd_gender, $42:cd_marital_status, $43:cd_education_status","FROM customer_demographics","WHERE and(equal($41, 'F'), equal($42, 'W'), equal($43, 'Secondary'))"]},{"kind":"WRITE","substeps":["$40","TO __stage03_output","BY HASH($40)"]}],"writeRatioAvg":0.09813753581661891},{"readMsMax":"0","computeMsMax":"8","inputStages":["3"],"waitMsAvg":"1","id":"5","endMs":"1570992367317","waitMsMax":"2","startMs":"1570992366941","waitRatioMax":0.0014326647564469914,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"27440","computeRatioAvg":0.0028653295128939827,"writeMsAvg":"170","status":"COMPLETE","writeMsMax":"219","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":0.15687679083094555,"readMsAvg":"0","waitRatioAvg":0.0007163323782234957,"completedParallelInputs":"100","computeRatioMax":0.0057306590257879654,"name":"S05: Coalesce","shuffleOutputBytes":"246960","recordsWritten":"27440","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage03_output"]}],"writeRatioAvg":0.12177650429799428},{"readMsMax":"75","computeMsMax":"1396","inputStages":["0","1","2","5"],"waitMsAvg":"4","id":"7","endMs":"1570992368242","waitMsMax":"6","startMs":"1570992367244","waitRatioMax":0.004297994269340974,"readRatioAvg":0.0329512893982808,"parallelInputs":"141","recordsRead":"153876039","computeRatioAvg":0.6024355300859598,"writeMsAvg":"10","status":"COMPLETE","writeMsMax":"96","computeMsAvg":"841","shuffleOutputBytesSpilled":"0","writeRatioMax":0.06876790830945559,"readMsAvg":"46","waitRatioAvg":0.0028653295128939827,"completedParallelInputs":"141","computeRatioMax":1,"name":"S07: Join+","shuffleOutputBytes":"32136160","recordsWritten":"378226","readRatioMax":0.053724928366762174,"steps":[{"kind":"READ","substeps":["$20:cs_sold_date_sk, $21:cs_bill_cdemo_sk, $22:cs_item_sk, $23:cs_promo_sk, $24:cs_quantity, $25:cs_list_price, $26:cs_sales_price, $27:cs_coupon_amt","FROM catalog_sales"]},{"kind":"READ","substeps":["$40","FROM __stage05_output"]},{"kind":"READ","substeps":["$30","FROM __stage02_output"]},{"kind":"READ","substeps":["$1, $2","FROM __stage01_output"]},{"kind":"READ","substeps":["$10","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $140 := $130","$60 := SHARD_AVG($131)","$61 := SHARD_AVG($132)","$62 := SHARD_AVG($134)","$63 := SHARD_AVG($133)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $110 = $10"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $100 = $1"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $80 = $30"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $21 = $40"]},{"kind":"WRITE","substeps":["$140, $60, $61, $62, $63","TO __stage07_output","BY HASH($140)"]}],"writeRatioAvg":0.0071633237822349575},{"readMsMax":"0","computeMsMax":"63","inputStages":["7"],"waitMsAvg":"1","id":"8","endMs":"1570992368343","waitMsMax":"1","startMs":"1570992368261","waitRatioMax":0.0007163323782234957,"readRatioAvg":0,"parallelInputs":"14","recordsRead":"378226","computeRatioAvg":0.03581661891117478,"writeMsAvg":"23","status":"COMPLETE","writeMsMax":"32","computeMsAvg":"50","shuffleOutputBytesSpilled":"0","writeRatioMax":0.022922636103151862,"readMsAvg":"0","waitRatioAvg":0.0007163323782234957,"completedParallelInputs":"14","computeRatioMax":0.04512893982808023,"name":"S08: Sort+","shuffleOutputBytes":"79800","recordsWritten":"1400","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$140, $60, $61, $62, $63","FROM __stage07_output"]},{"kind":"SORT","substeps":["$150 ASC","LIMIT 100"]},{"kind":"AGGREGATE","substeps":["GROUP BY $150 := $140","$50 := ROOT_AVG($60)","$51 := ROOT_AVG($61)","$52 := ROOT_AVG($62)","$53 := ROOT_AVG($63)"]},{"kind":"WRITE","substeps":["$160, $161, $162, $163, $164","TO __stage08_output"]}],"writeRatioAvg":0.0164756446991404},{"readMsMax":"0","computeMsMax":"5","inputStages":["8"],"waitMsAvg":"1","id":"9","endMs":"1570992368349","waitMsMax":"1","startMs":"1570992368291","waitRatioMax":0.0007163323782234957,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1400","computeRatioAvg":0.0035816618911174787,"writeMsAvg":"4","status":"COMPLETE","writeMsMax":"4","computeMsAvg":"5","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0028653295128939827,"readMsAvg":"0","waitRatioAvg":0.0007163323782234957,"completedParallelInputs":"1","computeRatioMax":0.0035816618911174787,"name":"S09: Output","shuffleOutputBytes":"5700","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$160, $161, $162, $163, $164","FROM __stage08_output"]},{"kind":"SORT","substeps":["$160 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$170, $171, $172, $173, $174","TO __stage09_output"]}],"writeRatioAvg":0.0028653295128939827}],"estimatedBytesProcessed":"9231954679","timeline":[{"totalSlotMs":"33034","activeUnits":"142","completedUnits":"3","elapsedMs":"697","pendingUnits":"142"},{"totalSlotMs":"212429","activeUnits":"141","completedUnits":"242","elapsedMs":"2016","pendingUnits":"3"},{"totalSlotMs":"214505","activeUnits":"6","completedUnits":"260","elapsedMs":"2433","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"9232711680","totalPartitionsProcessed":"0","totalBytesProcessed":"9231954679","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"catalog_sales","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"customer_demographics","datasetId":"scale_100"},{"projectId":"tpc-ds-2019","tableId":"promotion","datasetId":"scale_100"}]},"endTime":"1570992368577"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query26_1570992363"},"etag":"dBSNaIbj1DTUSGCzd3fv9w==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query26_1570992363?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_100"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon426c8ee9f3007cbab52c880ab849c2d7fd80f38b","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query26\nSELECT i_item_id, \n Avg(cs_quantity) agg1, \n Avg(cs_list_price) agg2, \n Avg(cs_coupon_amt) agg3, \n Avg(cs_sales_price) agg4 \nFROM catalog_sales, \n customer_demographics, \n date_dim, \n item, \n promotion \nWHERE cs_sold_date_sk = d_date_sk \n AND cs_item_sk = i_item_sk \n AND cs_bill_cdemo_sk = cd_demo_sk \n AND cs_promo_sk = p_promo_sk \n AND cd_gender = 'F' \n AND cd_marital_status = 'W' \n AND cd_education_status = 'Secondary' \n AND ( p_channel_email = 'N' \n OR p_channel_event = 'N' ) \n AND d_year = 2000 \nGROUP BY i_item_id \nORDER BY i_item_id\nLIMIT 100; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query26_1570992363","user_email":"nithish.sankaranarayanan@ulb.be"}
