{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"537","creationTime":"1570904309029","totalBytesProcessed":"18925752","startTime":"1570904309188","query":{"totalSlotMs":"537","queryPlan":[{"readMsMax":"7","computeMsMax":"17","waitMsAvg":"1","id":"0","endMs":"1570904309371","waitMsMax":"1","startMs":"1570904309321","waitRatioMax":0.0035087719298245615,"readRatioAvg":0.02456140350877193,"parallelInputs":"1","recordsRead":"18000","computeRatioAvg":0.05964912280701754,"writeMsAvg":"18","status":"COMPLETE","writeMsMax":"18","computeMsAvg":"17","shuffleOutputBytesSpilled":"0","writeRatioMax":0.06315789473684211,"readMsAvg":"7","waitRatioAvg":0.0035087719298245615,"completedParallelInputs":"1","computeRatioMax":0.05964912280701754,"name":"S00: Input","shuffleOutputBytes":"587452","recordsWritten":"18000","readRatioMax":0.02456140350877193,"steps":[{"kind":"READ","substeps":["$1:i_item_sk, $2:i_class, $3:i_category","FROM item"]},{"kind":"WRITE","substeps":["$1, $2, $3","TO __stage00_output","BY HASH($1)"]}],"writeRatioAvg":0.06315789473684211},{"readMsMax":"10","computeMsMax":"7","waitMsAvg":"6","id":"1","endMs":"1570904309405","waitMsMax":"6","startMs":"1570904309361","waitRatioMax":0.021052631578947368,"readRatioAvg":0.03508771929824561,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.02456140350877193,"writeMsAvg":"12","status":"COMPLETE","writeMsMax":"12","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.042105263157894736,"readMsAvg":"10","waitRatioAvg":0.021052631578947368,"completedParallelInputs":"1","computeRatioMax":0.02456140350877193,"name":"S01: Input","shuffleOutputBytes":"3285","recordsWritten":"365","readRatioMax":0.03508771929824561,"steps":[{"kind":"READ","substeps":["$20:d_date_sk, $21:d_month_seq","FROM date_dim","WHERE between($21, 1183, 1194)"]},{"kind":"WRITE","substeps":["$20","TO __stage01_output","BY HASH($20)"]}],"writeRatioAvg":0.042105263157894736},{"readMsMax":"25","computeMsMax":"285","inputStages":["0","1"],"waitMsAvg":"15","id":"3","endMs":"1570904309643","waitMsMax":"15","startMs":"1570904309452","waitRatioMax":0.05263157894736842,"readRatioAvg":0.08771929824561403,"parallelInputs":"1","recordsRead":"739124","computeRatioAvg":1,"writeMsAvg":"7","status":"COMPLETE","writeMsMax":"7","computeMsAvg":"285","shuffleOutputBytesSpilled":"0","writeRatioMax":0.02456140350877193,"readMsAvg":"25","waitRatioAvg":0.05263157894736842,"completedParallelInputs":"1","computeRatioMax":1,"name":"S03: Join+","shuffleOutputBytes":"3744","recordsWritten":"120","readRatioMax":0.08771929824561403,"steps":[{"kind":"READ","substeps":["$10:ws_sold_date_sk, $11:ws_item_sk, $12:ws_net_paid","FROM web_sales"]},{"kind":"READ","substeps":["$20","FROM __stage01_output"]},{"kind":"READ","substeps":["$1, $2, $3","FROM __stage00_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $80 := $72, $81 := $71","$50 := SUM($70)"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $60 = $1"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $10 = $20"]},{"kind":"WRITE","substeps":["$81, $80, $50","TO __stage03_output","BY HASH($80, $81)"]}],"writeRatioAvg":0.02456140350877193},{"readMsMax":"0","computeMsMax":"10","inputStages":["3"],"waitMsAvg":"1","id":"4","endMs":"1570904309771","waitMsMax":"1","startMs":"1570904309689","waitRatioMax":0.0035087719298245615,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"120","computeRatioAvg":0.03508771929824561,"writeMsAvg":"13","status":"COMPLETE","writeMsMax":"13","computeMsAvg":"10","shuffleOutputBytesSpilled":"0","writeRatioMax":0.0456140350877193,"readMsAvg":"0","waitRatioAvg":0.0035087719298245615,"completedParallelInputs":"1","computeRatioMax":0.03508771929824561,"name":"S04: Aggregate","shuffleOutputBytes":"3744","recordsWritten":"120","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$81, $80, $50","FROM __stage03_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $90 := $80, $91 := $81","$40 := SUM($50)"]},{"kind":"WRITE","substeps":["$91, $90, $40","TO __stage04_output","BY HASH($90, $91)"]}],"writeRatioAvg":0.0456140350877193},{"readMsMax":"0","computeMsMax":"7","inputStages":["4"],"waitMsAvg":"1","id":"5","endMs":"1570904309830","waitMsMax":"1","startMs":"1570904309778","waitRatioMax":0.0035087719298245615,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"120","computeRatioAvg":0.02456140350877193,"writeMsAvg":"29","status":"COMPLETE","writeMsMax":"29","computeMsAvg":"7","shuffleOutputBytesSpilled":"0","writeRatioMax":0.10175438596491228,"readMsAvg":"0","waitRatioAvg":0.0035087719298245615,"completedParallelInputs":"1","computeRatioMax":0.02456140350877193,"name":"S05: Sort+","shuffleOutputBytes":"4013","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$91, $90, $40","FROM __stage04_output"]},{"kind":"SORT","substeps":["$111 ASC, $30 ASC","LIMIT 100"]},{"kind":"ANALYTIC_FUNCTION","substeps":["$30 := RANK() OVER (PARTITION BY $101, $100 ORDER BY $102 DESC)"]},{"kind":"SORT","substeps":["$90 ASC, $91 ASC, $40 DESC"]},{"kind":"WRITE","substeps":["$120, $121, $122, $123","TO __stage05_output"]}],"writeRatioAvg":0.10175438596491228},{"readMsMax":"0","computeMsMax":"6","inputStages":["5"],"waitMsAvg":"1","id":"6","endMs":"1570904309858","waitMsMax":"1","startMs":"1570904309797","waitRatioMax":0.0035087719298245615,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"100","computeRatioAvg":0.021052631578947368,"writeMsAvg":"17","status":"COMPLETE","writeMsMax":"17","computeMsAvg":"6","shuffleOutputBytesSpilled":"0","writeRatioMax":0.05964912280701754,"readMsAvg":"0","waitRatioAvg":0.0035087719298245615,"completedParallelInputs":"1","computeRatioMax":0.021052631578947368,"name":"S06: Output","shuffleOutputBytes":"4013","recordsWritten":"100","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$120, $121, $122, $123","FROM __stage05_output"]},{"kind":"SORT","substeps":["$121 ASC, $122 ASC","LIMIT 100"]},{"kind":"WRITE","substeps":["$130, $131, $132, $133","TO __stage06_output"]}],"writeRatioAvg":0.05964912280701754}],"estimatedBytesProcessed":"18925752","timeline":[{"totalSlotMs":"460","activeUnits":"2","completedUnits":"4","elapsedMs":"634","pendingUnits":"2"},{"totalSlotMs":"537","activeUnits":"2","completedUnits":"6","elapsedMs":"813","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"31457280","totalPartitionsProcessed":"0","totalBytesProcessed":"18925752","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_1"},{"projectId":"tpc-ds-2019","tableId":"web_sales","datasetId":"scale_1"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_1"}]},"endTime":"1570904310032"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query86_1570904307"},"etag":"05yMwOaxYMgrTD6nzu9YRA==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query86_1570904307?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_1"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anonddf03cb73d227221709a7daee95b18ff2930452e","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query86\nSELECT Sum(ws_net_paid) AS total_sum, \n i_category, \n i_class, \n Rank() \n OVER ( \n PARTITION BY i_category, i_class\n ORDER BY Sum(ws_net_paid) DESC) AS rank_within_parent \nFROM web_sales, \n date_dim d1, \n item \nWHERE d1.d_month_seq BETWEEN 1183 AND 1183 + 11 \n AND d1.d_date_sk = ws_sold_date_sk \n AND i_item_sk = ws_item_sk \nGROUP BY i_category, i_class \nORDER BY i_category, \n rank_within_parent\nLIMIT 100; \n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query86_1570904307","user_email":"nithish.sankaranarayanan@ulb.be"}
