{"status":{"state":"DONE"},"kind":"bigquery#job","statistics":{"totalSlotMs":"22262","creationTime":"1570904349880","totalBytesProcessed":"19043932","startTime":"1570904349979","query":{"totalSlotMs":"22262","queryPlan":[{"readMsMax":"16","computeMsMax":"19","waitMsAvg":"1","id":"0","endMs":"1570904350342","waitMsMax":"1","startMs":"1570904350177","waitRatioMax":0.004524886877828055,"readRatioAvg":0.07239819004524888,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.08597285067873303,"writeMsAvg":"84","status":"COMPLETE","writeMsMax":"84","computeMsAvg":"19","shuffleOutputBytesSpilled":"0","writeRatioMax":0.38009049773755654,"readMsAvg":"16","waitRatioAvg":0.004524886877828055,"completedParallelInputs":"1","computeRatioMax":0.08597285067873303,"name":"S00: Input","shuffleOutputBytes":"828","recordsWritten":"92","readRatioMax":0.07239819004524888,"steps":[{"kind":"READ","substeps":["$10:d_date_sk, $11:d_date","FROM date_dim","WHERE between(CAST($11 AS DATE), 11775, 11866)"]},{"kind":"WRITE","substeps":["$10","TO __stage00_output","BY HASH($10)"]}],"writeRatioAvg":0.38009049773755654},{"readMsMax":"12","computeMsMax":"16","waitMsAvg":"1","id":"2","endMs":"1570904350365","waitMsMax":"1","startMs":"1570904350283","waitRatioMax":0.004524886877828055,"readRatioAvg":0.05429864253393665,"parallelInputs":"1","recordsRead":"73049","computeRatioAvg":0.07239819004524888,"writeMsAvg":"7","status":"COMPLETE","writeMsMax":"7","computeMsAvg":"16","shuffleOutputBytesSpilled":"0","writeRatioMax":0.03167420814479638,"readMsAvg":"12","waitRatioAvg":0.004524886877828055,"completedParallelInputs":"1","computeRatioMax":0.07239819004524888,"name":"S02: Input","shuffleOutputBytes":"828","recordsWritten":"92","readRatioMax":0.05429864253393665,"steps":[{"kind":"READ","substeps":["$30:d_date_sk, $31:d_date","FROM date_dim","WHERE between(CAST($31 AS DATE), 11775, 11866)"]},{"kind":"WRITE","substeps":["$30","TO __stage02_output","BY HASH($30)"]}],"writeRatioAvg":0.03167420814479638},{"readMsMax":"13","computeMsMax":"10","waitMsAvg":"19","id":"3","endMs":"1570904350479","waitMsMax":"19","startMs":"1570904350324","waitRatioMax":0.08597285067873303,"readRatioAvg":0.058823529411764705,"parallelInputs":"1","recordsRead":"18000","computeRatioAvg":0.04524886877828054,"writeMsAvg":"113","status":"COMPLETE","writeMsMax":"113","computeMsAvg":"10","shuffleOutputBytesSpilled":"0","writeRatioMax":0.5113122171945701,"readMsAvg":"13","waitRatioAvg":0.08597285067873303,"completedParallelInputs":"1","computeRatioMax":0.04524886877828054,"name":"S03: Input","shuffleOutputBytes":"18","recordsWritten":"2","readRatioMax":0.058823529411764705,"steps":[{"kind":"READ","substeps":["$40:i_item_sk, $41:i_manufact_id","FROM item","WHERE equal($41, 718)"]},{"kind":"WRITE","substeps":["$40","TO __stage03_output","BY HASH($40)"]}],"writeRatioAvg":0.5113122171945701},{"readMsMax":"33","computeMsMax":"215","inputStages":["0"],"waitMsAvg":"1","id":"5","endMs":"1570904350676","waitMsMax":"1","startMs":"1570904350433","waitRatioMax":0.004524886877828055,"readRatioAvg":0.1493212669683258,"parallelInputs":"1","recordsRead":"720851","computeRatioAvg":0.9728506787330317,"writeMsAvg":"59","status":"COMPLETE","writeMsMax":"59","computeMsAvg":"215","shuffleOutputBytesSpilled":"0","writeRatioMax":0.2669683257918552,"readMsAvg":"33","waitRatioAvg":0.004524886877828055,"completedParallelInputs":"1","computeRatioMax":0.9728506787330317,"name":"S05: Join","shuffleOutputBytes":"378544","recordsWritten":"21032","readRatioMax":0.1493212669683258,"steps":[{"kind":"READ","substeps":["$1:ws_sold_date_sk, $2:ws_item_sk, $3:ws_ext_discount_amt","FROM web_sales"]},{"kind":"READ","substeps":["$10","FROM __stage00_output"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $1 = $10"]},{"kind":"WRITE","substeps":["$120, $121","TO __stage05_output","BY HASH($120)"]}],"writeRatioAvg":0.2669683257918552},{"readMsMax":"0","computeMsMax":"9","inputStages":["5"],"waitMsAvg":"1","id":"6","endMs":"1570904350985","waitMsMax":"4","startMs":"1570904350717","waitRatioMax":0.01809954751131222,"readRatioAvg":0,"parallelInputs":"100","recordsRead":"21032","computeRatioAvg":0.01809954751131222,"writeMsAvg":"171","status":"COMPLETE","writeMsMax":"221","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":1,"readMsAvg":"0","waitRatioAvg":0.004524886877828055,"completedParallelInputs":"100","computeRatioMax":0.04072398190045249,"name":"S06: Coalesce","shuffleOutputBytes":"378544","recordsWritten":"21032","readRatioMax":0,"steps":[{"kind":"READ","substeps":["FROM __stage05_output"]}],"writeRatioAvg":0.7737556561085973},{"readMsMax":"23","computeMsMax":"199","inputStages":["6","2","3"],"waitMsAvg":"1","id":"7","endMs":"1570904351171","waitMsMax":"1","startMs":"1570904350785","waitRatioMax":0.004524886877828055,"readRatioAvg":0.10407239819004525,"parallelInputs":"1","recordsRead":"741885","computeRatioAvg":0.9004524886877828,"writeMsAvg":"6","status":"COMPLETE","writeMsMax":"6","computeMsAvg":"199","shuffleOutputBytesSpilled":"0","writeRatioMax":0.027149321266968326,"readMsAvg":"23","waitRatioAvg":0.004524886877828055,"completedParallelInputs":"1","computeRatioMax":0.9004524886877828,"name":"S07: Join+","shuffleOutputBytes":"224","recordsWritten":"4","readRatioMax":0.10407239819004525,"steps":[{"kind":"READ","substeps":["$20:ws_sold_date_sk, $21:ws_item_sk, $22:ws_ext_discount_amt","FROM web_sales"]},{"kind":"READ","substeps":["$40","FROM __stage03_output"]},{"kind":"READ","substeps":["$30","FROM __stage02_output"]},{"kind":"READ","substeps":["$120, $121","FROM __stage06_output"]},{"kind":"AGGREGATE","substeps":["GROUP BY $140 := $131","$80 := SHARD_AVG($132)","$81 := ANY_VALUE($130)"]},{"kind":"JOIN","substeps":["LEFT OUTER HASH JOIN EACH WITH ALL ON $111 = $120"]},{"kind":"COMPUTE","substeps":["$90 := UNIQUE_ROW_ID()"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $100 = $30"]},{"kind":"JOIN","substeps":["INNER HASH JOIN EACH WITH ALL ON $21 = $40"]},{"kind":"WRITE","substeps":["$80, $81, $140","TO __stage07_output","BY HASH($140)"]}],"writeRatioAvg":0.027149321266968326},{"readMsMax":"0","computeMsMax":"4","inputStages":["7"],"waitMsAvg":"1","id":"8","endMs":"1570904351532","waitMsMax":"1","startMs":"1570904351339","waitRatioMax":0.004524886877828055,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"4","computeRatioAvg":0.01809954751131222,"writeMsAvg":"180","status":"COMPLETE","writeMsMax":"180","computeMsAvg":"4","shuffleOutputBytesSpilled":"0","writeRatioMax":0.8144796380090498,"readMsAvg":"0","waitRatioAvg":0.004524886877828055,"completedParallelInputs":"1","computeRatioMax":0.01809954751131222,"name":"S08: Aggregate+","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$80, $81, $140","FROM __stage07_output"]},{"kind":"AGGREGATE","substeps":["$60 := SUM($71)"]},{"kind":"FILTER","substeps":["greater($71, multiply(1.3, $70))"]},{"kind":"AGGREGATE","substeps":["GROUP BY $150 := $140","$70 := ROOT_AVG($80)","$71 := ANY_VALUE($81)"]},{"kind":"WRITE","substeps":["$60","TO __stage08_output"]}],"writeRatioAvg":0.8144796380090498},{"readMsMax":"0","computeMsMax":"5","inputStages":["8"],"waitMsAvg":"2","id":"9","endMs":"1570904351580","waitMsMax":"2","startMs":"1570904351422","waitRatioMax":0.00904977375565611,"readRatioAvg":0,"parallelInputs":"1","recordsRead":"1","computeRatioAvg":0.02262443438914027,"writeMsAvg":"13","status":"COMPLETE","writeMsMax":"13","computeMsAvg":"5","shuffleOutputBytesSpilled":"0","writeRatioMax":0.058823529411764705,"readMsAvg":"0","waitRatioAvg":0.00904977375565611,"completedParallelInputs":"1","computeRatioMax":0.02262443438914027,"name":"S09: Output","shuffleOutputBytes":"9","recordsWritten":"1","readRatioMax":0,"steps":[{"kind":"READ","substeps":["$60","FROM __stage08_output"]},{"kind":"SORT","substeps":["$50 ASC","LIMIT 100"]},{"kind":"AGGREGATE","substeps":["$50 := SUM($60)"]},{"kind":"WRITE","substeps":["$160","TO __stage09_output"]}],"writeRatioAvg":0.058823529411764705}],"estimatedBytesProcessed":"19043932","timeline":[{"totalSlotMs":"621","activeUnits":"0","completedUnits":"4","elapsedMs":"699","pendingUnits":"0"},{"totalSlotMs":"22262","activeUnits":"0","completedUnits":"107","elapsedMs":"1743","pendingUnits":"0"}],"statementType":"SELECT","totalBytesBilled":"31457280","totalPartitionsProcessed":"0","totalBytesProcessed":"19043932","cacheHit":false,"billingTier":1,"referencedTables":[{"projectId":"tpc-ds-2019","tableId":"date_dim","datasetId":"scale_1"},{"projectId":"tpc-ds-2019","tableId":"web_sales","datasetId":"scale_1"},{"projectId":"tpc-ds-2019","tableId":"item","datasetId":"scale_1"}]},"endTime":"1570904351748"},"jobReference":{"projectId":"tpc-ds-2019","location":"US","jobId":"query92_1570904348"},"etag":"2OyWFtcQdooY2b+setepjA==","selfLink":"https://bigquery.googleapis.com/bigquery/v2/projects/tpc-ds-2019/jobs/query92_1570904348?location=US","configuration":{"query":{"maximumBillingTier":10,"defaultDataset":{"projectId":"tpc-ds-2019","datasetId":"scale_1"},"useLegacySql":false,"destinationTable":{"projectId":"tpc-ds-2019","tableId":"anon9687fa7de0feb577a5aededbd5bc41a0e45a928c","datasetId":"_0ca6f7c7da88564ba26827da43395a8255e28ecd"},"priority":"INTERACTIVE","writeDisposition":"WRITE_TRUNCATE","createDisposition":"CREATE_IF_NEEDED","query":"-- query92\nSELECT \n Sum(ws_ext_discount_amt) AS excess_discount_amount\nFROM web_sales , \n item , \n date_dim \nWHERE i_manufact_id = 718 \nAND i_item_sk = ws_item_sk \nAND Cast(d_date AS DATE) BETWEEN Cast('2002-03-29' AS DATE) AND ( \n Cast('2002-06-28' AS DATE)) \nAND d_date_sk = ws_sold_date_sk \nAND ws_ext_discount_amt > \n ( \n SELECT 1.3 benchmark.sh bootstrap.sh data_gen.sh dsdgen dsqgen load_data.sh query Readme.md results tcp-ds-dsdgen tpcds.idx warmup avg(ws_ext_discount_amt) \n FROM web_sales , \n date_dim \n WHERE ws_item_sk = i_item_sk \n AND Cast(d_date AS DATE) BETWEEN Cast('2002-03-29' AS DATE) AND ( \n cast('2002-06-28' AS date)) \n AND d_date_sk = ws_sold_date_sk ) \nORDER BY sum(ws_ext_discount_amt) \nLIMIT 100; \n\n"},"jobType":"QUERY"},"id":"tpc-ds-2019:US.query92_1570904348","user_email":"nithish.sankaranarayanan@ulb.be"}
